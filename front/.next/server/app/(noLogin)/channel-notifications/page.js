(()=>{var e={};e.id=650,e.ids=[650],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},29763:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>d}),n(65539),n(60246),n(91884),n(59198);var s=n(30170),r=n(45002),i=n(83876),a=n.n(i),o=n(66299),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);n.d(t,l);let d=["",{children:["(noLogin)",{children:["channel-notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(n.bind(n,65539)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\(noLogin)\\channel-notifications\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,73881))).default(e),async e=>(await Promise.resolve().then(n.bind(n,71150))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(n.bind(n,60246)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(n.bind(n,91884)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(n.bind(n,59198)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(n.bind(n,73881))).default(e),async e=>(await Promise.resolve().then(n.bind(n,71150))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\(noLogin)\\channel-notifications\\page.tsx"],c="/(noLogin)/channel-notifications/page",p={require:n,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/(noLogin)/channel-notifications/page",pathname:"/channel-notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},15863:(e,t,n)=>{Promise.resolve().then(n.bind(n,10982))},6055:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(70531),r=n(97247);let i=(0,s.Z)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},47841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var s=n(28964),r=n(61929),i=n(1358),a=n(63574),o=n(91185),l=n(53017),d=n(39005),u=n(74039),c=n(97247);let p=(0,u.Z)(),x=(0,d.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`maxWidth${(0,o.Z)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),h=e=>(0,l.Z)({props:e,name:"MuiContainer",defaultTheme:p}),m=(e,t)=>{let{classes:n,fixed:s,disableGutters:r,maxWidth:l}=e,d={root:["root",l&&`maxWidth${(0,o.Z)(String(l))}`,s&&"fixed",r&&"disableGutters"]};return(0,a.Z)(d,e=>(0,i.ZP)(t,e),n)};var g=n(14974),f=n(9380),y=n(59537);let b=function(e={}){let{createStyledComponent:t=x,useThemeProps:n=h,componentName:i="MuiContainer"}=e,a=t(({theme:e,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,n)=>{let s=e.breakpoints.values[n];return 0!==s&&(t[e.breakpoints.up(n)]={maxWidth:`${s}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>({..."xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},...t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}}));return s.forwardRef(function(e,t){let s=n(e),{className:o,component:l="div",disableGutters:d=!1,fixed:u=!1,maxWidth:p="lg",classes:x,...h}=s,g={...s,component:l,disableGutters:d,fixed:u,maxWidth:p},f=m(g,i);return(0,c.jsx)(a,{as:l,ownerState:g,className:(0,r.Z)(f.root,o),ref:t,...h})})}({createStyledComponent:(0,f.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,t[`maxWidth${(0,g.Z)(String(n.maxWidth))}`],n.fixed&&t.fixed,n.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,y.i)({props:e,name:"MuiContainer"})})},39005:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});let s=(0,n(1745).ZP)()},53017:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});var s=n(30724),r=n(13758);function i({props:e,name:t,defaultTheme:n,themeId:i}){let a=(0,r.Z)(n);return i&&(a=a[i]||a),function(e){let{theme:t,name:n,props:r}=e;return t&&t.components&&t.components[n]&&t.components[n].defaultProps?(0,s.Z)(t.components[n].defaultProps,r):r}({theme:a,name:t,props:e})}},10982:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>W});var s=n(97247),r=n(28964),i=n.n(r),a=n(24222),o=n(53187),l=n(47841),d=n(42658),u=n(22621),c=n(74247),p=n(40998),x=n(78708),h=n(82891),m=n(83268),g=n(11611),f=n(13142),y=n(34150),b=n(6055),v=n(41755),Z=n(9190),j=n(88111),P=n(34178),q=n(19898),C=n(80613),k=n(67325),w=n(37688),S=n(84957);function W(){let e=(0,P.useRouter)(),{data:t,status:n}=(0,q.useSession)(),W=(0,v.NL)(),[_,R]=(0,r.useState)(1),{data:G,isLoading:D,error:M}=(0,Z.a)({queryKey:["allNotifications",_],queryFn:()=>(0,C.kW)(_,S.VI),enabled:!!t?.user&&"authenticated"===n}),$=G?{...G,items:G.items.filter(e=>"channel_post"===e.type)}:null,L=(0,j.D)({mutationFn:C.Ix,onSuccess:()=>{W.invalidateQueries({queryKey:["allNotifications"]}),W.invalidateQueries({queryKey:["unreadChannelNotifications"]})}}),N=(0,j.D)({mutationFn:C.Go,onSuccess:()=>{W.invalidateQueries({queryKey:["allNotifications"]}),W.invalidateQueries({queryKey:["unreadChannelNotifications"]})}}),A=(0,j.D)({mutationFn:C.no,onSuccess:()=>{W.invalidateQueries({queryKey:["allNotifications"]}),W.invalidateQueries({queryKey:["unreadChannelNotifications"]})}});if("loading"===n)return s.jsx(a.Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:s.jsx(o.Z,{})});if(!t?.user)return e.push("/login"),null;let F=async t=>{if(t.isRead||await L.mutateAsync(t.id),"channel_post"===t.type&&t.post?.id&&t.post?.channelSlug){let n=`/channels/${t.post.channelSlug}/detail/story/${t.post.id}`;e.push(n)}},K=e=>(0,k.Q)(new Date(e),{addSuffix:!0,locale:w.ko}),Q=e=>{if("channel_post"!==e.type)return{title:"새로운 알림이 있습니다",content:e.message||""};{let t=e.post?.author?.nickname||"알 수 없는 사용자",n=e.post?.title||"",s=e.post?.channelName||"채널";return{title:`${s}에 ${t}님이 새 게시글을 올렸습니다`,content:n}}};return M?s.jsx(l.Z,{maxWidth:"md",sx:{mt:4},children:s.jsx(d.Z,{color:"error",children:"채널 알림을 불러오는 중 오류가 발생했습니다."})}):s.jsx(l.Z,{maxWidth:"md",sx:{mt:4,mb:4},children:(0,s.jsxs)(u.Z,{sx:{p:3},children:[(0,s.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[s.jsx(d.Z,{variant:"h4",fontWeight:"bold",children:"채널 알림"}),$&&$.items.some(e=>!e.isRead)&&s.jsx(c.Z,{variant:"outlined",onClick:()=>N.mutate(),disabled:N.isPending,children:"모두 읽음으로 표시"})]}),s.jsx(p.Z,{sx:{mb:2}}),D?s.jsx(a.Z,{display:"flex",justifyContent:"center",py:5,children:s.jsx(o.Z,{})}):$&&0!==$.items.length?(0,s.jsxs)(s.Fragment,{children:[s.jsx(x.Z,{children:$.items.map((e,t)=>{let{title:n,content:r}=Q(e);return(0,s.jsxs)(i().Fragment,{children:[s.jsx(h.ZP,{sx:{cursor:"pointer",backgroundColor:e.isRead?"transparent":"action.hover","&:hover":{backgroundColor:"action.selected"},borderRadius:1,mb:1},onClick:()=>F(e),secondaryAction:s.jsx(m.Z,{edge:"end","aria-label":"delete",onClick:t=>{t.stopPropagation(),A.mutate(e.id)},children:s.jsx(b.Z,{})}),children:s.jsx(g.Z,{primary:(0,s.jsxs)(a.Z,{display:"flex",alignItems:"center",gap:1,children:[s.jsx(d.Z,{variant:"body1",fontWeight:e.isRead?"normal":"bold",children:n}),!e.isRead&&s.jsx(f.Z,{label:"새 알림",size:"small",color:"secondary"})]}),secondary:(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.Z,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:r}),s.jsx(d.Z,{variant:"caption",color:"text.secondary",children:K(e.createdAt)})]})})}),t<$.items.length-1&&s.jsx(p.Z,{})]},e.id)})}),$.totalPages>1&&s.jsx(a.Z,{display:"flex",justifyContent:"center",mt:3,children:s.jsx(y.Z,{count:$.totalPages,page:_,onChange:(e,t)=>{R(t)},color:"primary"})})]}):s.jsx(a.Z,{py:5,textAlign:"center",children:s.jsx(d.Z,{color:"text.secondary",children:"채널 알림이 없습니다."})})]})})}},65539:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});let s=(0,n(45347).createProxy)(String.raw`C:\Users\wngus\Documents\Study-Board\front\src\app\(noLogin)\channel-notifications\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var n=e=>t(t.s=e),s=t.X(0,[379,819,33],()=>n(29763));module.exports=s})();