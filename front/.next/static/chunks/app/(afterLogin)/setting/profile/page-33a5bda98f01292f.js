(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7985],{292:function(e,t,r){Promise.resolve().then(r.bind(r,68444))},76672:function(e,t,r){"use strict";var a=r(94630),n=r(57437);t.Z=(0,a.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},67116:function(e,t,r){"use strict";r.d(t,{Z:function(){return v}});var a=r(2265),n=r(61994),i=r(20801),s=r(16210),o=r(21086),l=r(37053),u=r(94630),d=r(57437),c=(0,u.Z)((0,d.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),h=r(94143),p=r(50738);function f(e){return(0,p.ZP)("MuiAvatar",e)}(0,h.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var g=r(79114);let x=e=>{let{classes:t,variant:r,colorDefault:a}=e;return(0,i.Z)({root:["root",r,a&&"colorDefault"],img:["img"],fallback:["fallback"]},f,t)},m=(0,s.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[r.variant],r.colorDefault&&t.colorDefault]}})((0,o.Z)(e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:{color:(t.vars||t).palette.background.default,...t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:{backgroundColor:t.palette.grey[400],...t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})}}}]}})),b=(0,s.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),y=(0,s.ZP)(c,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});var v=a.forwardRef(function(e,t){let r=(0,l.i)({props:e,name:"MuiAvatar"}),{alt:i,children:s,className:o,component:u="div",slots:c={},slotProps:h={},imgProps:p,sizes:f,src:v,srcSet:w,variant:$="circular",...D}=r,S=null,k={...r,component:u,variant:$},Z=function(e){let{crossOrigin:t,referrerPolicy:r,src:n,srcSet:i}=e,[s,o]=a.useState(!1);return a.useEffect(()=>{if(!n&&!i)return;o(!1);let e=!0,a=new Image;return a.onload=()=>{e&&o("loaded")},a.onerror=()=>{e&&o("error")},a.crossOrigin=t,a.referrerPolicy=r,a.src=n,i&&(a.srcset=i),()=>{e=!1}},[t,r,n,i]),s}({...p,..."function"==typeof h.img?h.img(k):h.img,src:v,srcSet:w}),j=v||w,M=j&&"error"!==Z;k.colorDefault=!M,delete k.ownerState;let C=x(k),[I,F]=(0,g.Z)("img",{className:C.img,elementType:b,externalForwardedProps:{slots:c,slotProps:{img:{...p,...h.img}}},additionalProps:{alt:i,src:v,srcSet:w,sizes:f},ownerState:k});return S=M?(0,d.jsx)(I,{...F}):s||0===s?s:j&&i?i[0]:(0,d.jsx)(y,{ownerState:k,className:C.fallback}),(0,d.jsx)(m,{as:u,className:(0,n.Z)(C.root,o),ref:t,...D,ownerState:k,children:S})})},71096:function(e){var t;t=function(){"use strict";var e="millisecond",t="second",r="minute",a="hour",n="week",i="month",s="quarter",o="year",l="date",u="Invalid Date",d=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,c=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,h=function(e,t,r){var a=String(e);return!a||a.length>=t?e:""+Array(t+1-a.length).join(r)+e},p="en",f={};f[p]={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(e){var t=["th","st","nd","rd"],r=e%100;return"["+e+(t[(r-20)%10]||t[r]||"th")+"]"}};var g="$isDayjsObject",x=function(e){return e instanceof v||!(!e||!e[g])},m=function e(t,r,a){var n;if(!t)return p;if("string"==typeof t){var i=t.toLowerCase();f[i]&&(n=i),r&&(f[i]=r,n=i);var s=t.split("-");if(!n&&s.length>1)return e(s[0])}else{var o=t.name;f[o]=t,n=o}return!a&&n&&(p=n),n||!a&&p},b=function(e,t){if(x(e))return e.clone();var r="object"==typeof t?t:{};return r.date=e,r.args=arguments,new v(r)},y={s:h,z:function(e){var t=-e.utcOffset(),r=Math.abs(t);return(t<=0?"+":"-")+h(Math.floor(r/60),2,"0")+":"+h(r%60,2,"0")},m:function e(t,r){if(t.date()<r.date())return-e(r,t);var a=12*(r.year()-t.year())+(r.month()-t.month()),n=t.clone().add(a,i),s=r-n<0,o=t.clone().add(a+(s?-1:1),i);return+(-(a+(r-n)/(s?n-o:o-n))||0)},a:function(e){return e<0?Math.ceil(e)||0:Math.floor(e)},p:function(u){return({M:i,y:o,w:n,d:"day",D:l,h:a,m:r,s:t,ms:e,Q:s})[u]||String(u||"").toLowerCase().replace(/s$/,"")},u:function(e){return void 0===e}};y.l=m,y.i=x,y.w=function(e,t){return b(e,{locale:t.$L,utc:t.$u,x:t.$x,$offset:t.$offset})};var v=function(){function h(e){this.$L=m(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[g]=!0}var p=h.prototype;return p.parse=function(e){this.$d=function(e){var t=e.date,r=e.utc;if(null===t)return new Date(NaN);if(y.u(t))return new Date;if(t instanceof Date)return new Date(t);if("string"==typeof t&&!/Z$/i.test(t)){var a=t.match(d);if(a){var n=a[2]-1||0,i=(a[7]||"0").substring(0,3);return r?new Date(Date.UTC(a[1],n,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)):new Date(a[1],n,a[3]||1,a[4]||0,a[5]||0,a[6]||0,i)}}return new Date(t)}(e),this.init()},p.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},p.$utils=function(){return y},p.isValid=function(){return this.$d.toString()!==u},p.isSame=function(e,t){var r=b(e);return this.startOf(t)<=r&&r<=this.endOf(t)},p.isAfter=function(e,t){return b(e)<this.startOf(t)},p.isBefore=function(e,t){return this.endOf(t)<b(e)},p.$g=function(e,t,r){return y.u(e)?this[t]:this.set(r,e)},p.unix=function(){return Math.floor(this.valueOf()/1e3)},p.valueOf=function(){return this.$d.getTime()},p.startOf=function(e,s){var u=this,d=!!y.u(s)||s,c=y.p(e),h=function(e,t){var r=y.w(u.$u?Date.UTC(u.$y,t,e):new Date(u.$y,t,e),u);return d?r:r.endOf("day")},p=function(e,t){return y.w(u.toDate()[e].apply(u.toDate("s"),(d?[0,0,0,0]:[23,59,59,999]).slice(t)),u)},f=this.$W,g=this.$M,x=this.$D,m="set"+(this.$u?"UTC":"");switch(c){case o:return d?h(1,0):h(31,11);case i:return d?h(1,g):h(0,g+1);case n:var b=this.$locale().weekStart||0,v=(f<b?f+7:f)-b;return h(d?x-v:x+(6-v),g);case"day":case l:return p(m+"Hours",0);case a:return p(m+"Minutes",1);case r:return p(m+"Seconds",2);case t:return p(m+"Milliseconds",3);default:return this.clone()}},p.endOf=function(e){return this.startOf(e,!1)},p.$set=function(n,s){var u,d=y.p(n),c="set"+(this.$u?"UTC":""),h=((u={}).day=c+"Date",u[l]=c+"Date",u[i]=c+"Month",u[o]=c+"FullYear",u[a]=c+"Hours",u[r]=c+"Minutes",u[t]=c+"Seconds",u[e]=c+"Milliseconds",u)[d],p="day"===d?this.$D+(s-this.$W):s;if(d===i||d===o){var f=this.clone().set(l,1);f.$d[h](p),f.init(),this.$d=f.set(l,Math.min(this.$D,f.daysInMonth())).$d}else h&&this.$d[h](p);return this.init(),this},p.set=function(e,t){return this.clone().$set(e,t)},p.get=function(e){return this[y.p(e)]()},p.add=function(e,s){var l,u=this;e=Number(e);var d=y.p(s),c=function(t){var r=b(u);return y.w(r.date(r.date()+Math.round(t*e)),u)};if(d===i)return this.set(i,this.$M+e);if(d===o)return this.set(o,this.$y+e);if("day"===d)return c(1);if(d===n)return c(7);var h=((l={})[r]=6e4,l[a]=36e5,l[t]=1e3,l)[d]||1,p=this.$d.getTime()+e*h;return y.w(p,this)},p.subtract=function(e,t){return this.add(-1*e,t)},p.format=function(e){var t=this,r=this.$locale();if(!this.isValid())return r.invalidDate||u;var a=e||"YYYY-MM-DDTHH:mm:ssZ",n=y.z(this),i=this.$H,s=this.$m,o=this.$M,l=r.weekdays,d=r.months,h=r.meridiem,p=function(e,r,n,i){return e&&(e[r]||e(t,a))||n[r].slice(0,i)},f=function(e){return y.s(i%12||12,e,"0")},g=h||function(e,t,r){var a=e<12?"AM":"PM";return r?a.toLowerCase():a};return a.replace(c,function(e,a){return a||function(e){switch(e){case"YY":return String(t.$y).slice(-2);case"YYYY":return y.s(t.$y,4,"0");case"M":return o+1;case"MM":return y.s(o+1,2,"0");case"MMM":return p(r.monthsShort,o,d,3);case"MMMM":return p(d,o);case"D":return t.$D;case"DD":return y.s(t.$D,2,"0");case"d":return String(t.$W);case"dd":return p(r.weekdaysMin,t.$W,l,2);case"ddd":return p(r.weekdaysShort,t.$W,l,3);case"dddd":return l[t.$W];case"H":return String(i);case"HH":return y.s(i,2,"0");case"h":return f(1);case"hh":return f(2);case"a":return g(i,s,!0);case"A":return g(i,s,!1);case"m":return String(s);case"mm":return y.s(s,2,"0");case"s":return String(t.$s);case"ss":return y.s(t.$s,2,"0");case"SSS":return y.s(t.$ms,3,"0");case"Z":return n}return null}(e)||n.replace(":","")})},p.utcOffset=function(){return-(15*Math.round(this.$d.getTimezoneOffset()/15))},p.diff=function(e,l,u){var d,c=this,h=y.p(l),p=b(e),f=(p.utcOffset()-this.utcOffset())*6e4,g=this-p,x=function(){return y.m(c,p)};switch(h){case o:d=x()/12;break;case i:d=x();break;case s:d=x()/3;break;case n:d=(g-f)/6048e5;break;case"day":d=(g-f)/864e5;break;case a:d=g/36e5;break;case r:d=g/6e4;break;case t:d=g/1e3;break;default:d=g}return u?d:y.a(d)},p.daysInMonth=function(){return this.endOf(i).$D},p.$locale=function(){return f[this.$L]},p.locale=function(e,t){if(!e)return this.$L;var r=this.clone(),a=m(e,t,!0);return a&&(r.$L=a),r},p.clone=function(){return y.w(this.$d,this)},p.toDate=function(){return new Date(this.valueOf())},p.toJSON=function(){return this.isValid()?this.toISOString():null},p.toISOString=function(){return this.$d.toISOString()},p.toString=function(){return this.$d.toUTCString()},h}(),w=v.prototype;return b.prototype=w,[["$ms",e],["$s",t],["$m",r],["$H",a],["$W","day"],["$M",i],["$y",o],["$D",l]].forEach(function(e){w[e[1]]=function(t){return this.$g(t,e[0],e[1])}}),b.extend=function(e,t){return e.$i||(e(t,v,b),e.$i=!0),b},b.locale=m,b.isDayjs=x,b.unix=function(e){return b(1e3*e)},b.en=f[p],b.Ls=f,b.p={},b},e.exports=t()},68444:function(e,t,r){"use strict";r.r(t);var a=r(57437),n=r(2265),i=r(31691),s=r(2069),o=r(46387),l=r(67116),u=r(91991),d=r(97404),c=r(35389),h=r(29827),p=r(16593),f=r(21770),g=r(83464),x=r(80605),m=r(94623),b=r(99376),y=r(30419),v=r(69183),w=r(11471),$=r(9662),D=r(32346),S=r(59016);t.default=function(){var e;let[t,r]=(0,n.useState)(""),[k,Z]=(0,n.useState)(null),[j,M]=(0,n.useState)(null),{showMessage:C}=(0,y.U)(e=>e),[I,F]=(0,n.useState)(!1),[W,T]=(0,n.useState)(!1),[O,P]=(0,n.useState)(!1),[R,_]=(0,n.useState)(""),[A,B]=(0,n.useState)(""),z=(0,i.Z)(),H=(0,b.useRouter)(),q=(0,h.NL)(),{data:E,status:L,update:U}=(0,x.useSession)(),{setTopBarImageDelete:N,setUserImageUrl:Y}=(0,v.a)(),G=async e=>(await g.Z.get("".concat("http://localhost:9999","/api/auth/").concat(e),{withCredentials:!0})).data;"authenticated"===L&&(null==E?void 0:null===(e=E.user)||void 0===e?void 0:e.id)&&q.prefetchQuery({queryKey:["userInfo",E.user.id],queryFn:()=>G(E.user.id)});let{data:K,error:Q,isLoading:J}=(0,p.a)({queryKey:["userInfo",null==E?void 0:E.user.id],queryFn:()=>{G(null==E?void 0:E.user.id)},retry:1,retryDelay:()=>2e3,enabled:"authenticated"===L,staleTime:1e4,gcTime:3e4}),[V,X]=(0,n.useState)(1),[ee,et]=(0,n.useState)(1),er=w.Tq,{data:ea,error:en,isLoading:ei,isFetching:es,isPlaceholderData:eo}=(0,p.a)({queryKey:["user","stories",V],queryFn:async()=>{let e=(V-1)*er;return(await g.Z.post("".concat("http://localhost:9999","/api/auth/userStoryTableData"),{offset:e,limit:er,userId:null==E?void 0:E.user.id},{withCredentials:!0})).data},enabled:"authenticated"===L,retry:1,retryDelay:()=>2e3,staleTime:1e4,gcTime:3e4,placeholderData:e=>e,refetchOnWindowFocus:!1}),{data:el,error:eu,isLoading:ed,isFetching:ec,isPlaceholderData:eh}=(0,p.a)({queryKey:["user","comments",ee],queryFn:async()=>{let e=(ee-1)*er;return(await g.Z.post("".concat("http://localhost:9999","/api/auth/userCommentsTableData"),{offset:e,limit:er,userId:null==E?void 0:E.user.id},{withCredentials:!0})).data},retry:1,retryDelay:()=>2e3,enabled:"authenticated"===L,staleTime:1e4,gcTime:3e4,placeholderData:e=>e,refetchOnWindowFocus:!1});(0,n.useEffect)(()=>{if(K){var e;M((null==K?void 0:null===(e=K.image)||void 0===e?void 0:e.link)?"".concat("http://localhost:9999").concat(K.image.link):null),r(K.nickname),B(K.nickname)}},[K]);let ep=(0,f.D)({mutationFn:async()=>{if(!(null==E?void 0:E.user.id)){C("로그인 해라","error");return}return await g.Z.delete("".concat("http://localhost:9999","/api/auth/delete"),{data:{id:E.user.id},withCredentials:!0})},retry:1,retryDelay:()=>2e3,onSuccess:async()=>{M(null),q.removeQueries({queryKey:["userTopImage",null==E?void 0:E.user.id]}),N(),Y(""),C("프로필 사진 삭제 완료","success"),await U({image:null})},onError:e=>{C("프로필 사진 삭제 실패","error"),console.error(e)}}),ef=async()=>{if(t!==A){if(!t.trim()){C("닉네임을 입력해주세요.","warning");return}try{P(!0);let{isAvailable:e,message:r}=(await g.Z.get("".concat("http://localhost:9999","/api/auth/check-nickname/").concat(encodeURIComponent(t)))).data;if(!e){C(r,"error"),T(!1),F(!0),_(r);return}T(!0),F(!0),_(r)}catch(e){console.error("닉네임 중복 확인 실패:",e),C("중복 확인 중 오류가 발생했습니다.","error");return}finally{P(!1)}}eg.mutate()},eg=(0,f.D)({mutationFn:async()=>{if(!(null==E?void 0:E.user.id)){C("로그인 해라","error");return}if(null!=E){let e=new FormData;return e.append("nickname",t),e.append("id",E.user.id),k&&e.append("profileImage",k),await g.Z.post("".concat("http://localhost:9999","/api/auth/update"),e,{withCredentials:!0})}},retry:1,retryDelay:()=>2e3,onSuccess:async e=>{await U({image:null==e?void 0:e.data.image,nickname:null==e?void 0:e.data.nickname}),await q.invalidateQueries({queryKey:["userInfo",null==E?void 0:E.user.id]}),await q.refetchQueries({queryKey:["userTopImage",null==E?void 0:E.user.id]}),B((null==e?void 0:e.data.nickname)||t),F(!1),T(!1),_(""),C("프로필 변경 완료","success"),H.push("/")},onError:e=>{e.response&&401===e.response.data.statusCode&&C("".concat(e.response.data.message),"error")}}),[ex,em]=(0,n.useState)(!1),[eb,ey]=(0,n.useState)(""),ev=()=>{em(!1),ey(""),eD(!1),ek(""),ej("")},ew=async()=>{try{(await g.Z.post("".concat("http://localhost:9999","/api/auth/verifyPassword"),{id:null==E?void 0:E.user.id,currentPassword:eb},{withCredentials:!0})).data?(eD(!0),em(!1),ey(""),C("현재 비밀번호 확인 완료","success")):C("현재 비밀번호가 일치하지 않습니다.","error")}catch(e){C("비밀번호 확인 에러","error")}},[e$,eD]=(0,n.useState)(!1),[eS,ek]=(0,n.useState)(""),[eZ,ej]=(0,n.useState)(""),eM=(0,f.D)({mutationFn:async e=>await g.Z.delete("".concat("http://localhost:9999","/api/story/").concat(e),{withCredentials:!0}),onSuccess:()=>{C("게시글이 삭제되었습니다.","success"),q.invalidateQueries({queryKey:["user","stories"]})},onError:e=>{var t,r;C((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"게시글 삭제에 실패했습니다.","error")}}),eC=(0,f.D)({mutationFn:async e=>{var t;if(!(null==E?void 0:null===(t=E.user)||void 0===t?void 0:t.id))throw Error("로그인이 필요합니다.");return await g.Z.put("".concat("http://localhost:9999","/api/story/profile/comment/").concat(e),{userId:E.user.id},{withCredentials:!0})},onSuccess:()=>{C("댓글이 삭제되었습니다.","success"),q.invalidateQueries({queryKey:["user","comments"]})},onError:e=>{var t,r;C((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"댓글 삭제에 실패했습니다.","error")}}),eI=async()=>{if(eS!==eZ){C("비밀번호가 일치하지 않습니다.","error");return}try{await g.Z.post("".concat("http://localhost:9999","/api/auth/password"),{id:null==E?void 0:E.user.id,password:eS},{withCredentials:!0}),C("비밀번호 변경 완료","success"),ev()}catch(e){C("비밀번호 변경 실패","error")}};return J?(0,a.jsx)(m.default,{}):(0,a.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",mt:3,minHeight:"75vh",gap:4},children:[(0,a.jsxs)(s.Z,{sx:{display:"flex",flexDirection:"row",gap:4,width:"100%",maxWidth:"1400px",alignItems:"flex-start"},children:[(0,a.jsx)(s.Z,{sx:{width:"400px",flexShrink:0},children:(0,a.jsxs)(s.Z,{sx:{bgcolor:"background.paper",boxShadow:3,p:3,borderRadius:2},children:[(0,a.jsx)(o.Z,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:2,color:"primary.main",textAlign:"center"},children:"프로필 수정"}),(0,a.jsxs)(s.Z,{display:"flex",flexDirection:"row",alignItems:"flex-start",sx:{gap:3,mb:3},children:[(0,a.jsx)(s.Z,{sx:{width:130,height:130,position:"relative",flexShrink:0,background:"dark"===z.palette.mode?"linear-gradient(145deg, #2a2a3e 0%, #1a1a2e 50%, #2a2a3e 100%)":"linear-gradient(145deg, #f8f9fa 0%, #e9ecef 50%, #f8f9fa 100%)",borderRadius:"50%",padding:"6px",boxShadow:"dark"===z.palette.mode?"\n                      0 16px 50px rgba(0, 0, 0, 0.6),\n                      0 6px 16px rgba(139, 92, 246, 0.3),\n                      inset 0 3px 6px rgba(255, 255, 255, 0.1),\n                      inset 0 -3px 6px rgba(0, 0, 0, 0.4),\n                      inset 0 0 25px rgba(139, 92, 246, 0.05)\n                    ":"\n                      0 16px 50px rgba(0, 0, 0, 0.15),\n                      0 6px 16px rgba(218, 165, 32, 0.3),\n                      inset 0 3px 6px rgba(255, 255, 255, 0.9),\n                      inset 0 -3px 6px rgba(0, 0, 0, 0.1),\n                      inset 0 0 25px rgba(218, 165, 32, 0.1)\n                    ",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&::before":{content:'""',position:"absolute",top:-4,left:-4,right:-4,bottom:-4,background:"dark"===z.palette.mode?"conic-gradient(from 0deg, #8B5CF6, #06B6D4, #10B981, #F59E0B, #EF4444, #8B5CF6)":"conic-gradient(from 0deg, #DAA520, #FF6B6B, #4ECDC4, #45B7D1, #9C27B0, #DAA520)",borderRadius:"50%",opacity:.8,transition:"opacity 0.3s ease",zIndex:-1,animation:"profileFrameGlow 8s linear infinite"},"&::after":{content:'""',position:"absolute",top:3,left:3,right:3,bottom:3,background:"dark"===z.palette.mode?"linear-gradient(145deg, rgba(42, 42, 62, 0.9), rgba(26, 26, 46, 0.9))":"linear-gradient(145deg, rgba(255, 255, 255, 0.9), rgba(240, 240, 240, 0.9))",borderRadius:"50%",border:"dark"===z.palette.mode?"1px solid rgba(139, 92, 246, 0.3)":"1px solid rgba(218, 165, 32, 0.4)",zIndex:1},"&:hover":{transform:"scale(1.05) rotate(2deg)",boxShadow:"dark"===z.palette.mode?"\n                        0 20px 60px rgba(0, 0, 0, 0.8),\n                        0 8px 25px rgba(139, 92, 246, 0.5),\n                        inset 0 4px 8px rgba(255, 255, 255, 0.15),\n                        inset 0 -4px 8px rgba(0, 0, 0, 0.5),\n                        inset 0 0 35px rgba(139, 92, 246, 0.1)\n                      ":"\n                        0 20px 60px rgba(0, 0, 0, 0.25),\n                        0 8px 25px rgba(218, 165, 32, 0.5),\n                        inset 0 4px 8px rgba(255, 255, 255, 1),\n                        inset 0 -4px 8px rgba(0, 0, 0, 0.15),\n                        inset 0 0 35px rgba(218, 165, 32, 0.15)\n                      ","&::before":{opacity:1,transform:"scale(1.1)"}},"@keyframes profileFrameGlow":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}},children:(0,a.jsx)(l.Z,{src:j||"/assets/noprofileImage.png",sx:{width:118,height:118,position:"relative",zIndex:2,border:"dark"===z.palette.mode?"3px solid rgba(139, 92, 246, 0.5)":"3px solid rgba(218, 165, 32, 0.7)",boxShadow:"dark"===z.palette.mode?"\n                        0 0 30px rgba(139, 92, 246, 0.4),\n                        inset 0 4px 8px rgba(255, 255, 255, 0.1),\n                        inset 0 -4px 8px rgba(0, 0, 0, 0.3),\n                        0 0 0 1px rgba(255, 255, 255, 0.05)\n                      ":"\n                        0 8px 30px rgba(218, 165, 32, 0.4),\n                        inset 0 4px 8px rgba(255, 255, 255, 0.8),\n                        inset 0 -4px 8px rgba(0, 0, 0, 0.1),\n                        0 0 0 1px rgba(255, 255, 255, 0.3)\n                      ",transition:"all 0.3s ease",cursor:"pointer",filter:"contrast(1.08) saturate(1.15) brightness(1.02)","&:hover":{filter:"contrast(1.15) saturate(1.25) brightness(1.08)",transform:"scale(1.02)",boxShadow:"dark"===z.palette.mode?"\n                          0 0 40px rgba(139, 92, 246, 0.6),\n                          inset 0 5px 10px rgba(255, 255, 255, 0.15),\n                          inset 0 -5px 10px rgba(0, 0, 0, 0.4),\n                          0 0 0 2px rgba(255, 255, 255, 0.1)\n                        ":"\n                          0 10px 40px rgba(218, 165, 32, 0.5),\n                          inset 0 5px 10px rgba(255, 255, 255, 0.9),\n                          inset 0 -5px 10px rgba(0, 0, 0, 0.15),\n                          0 0 0 2px rgba(255, 255, 255, 0.5)\n                        "}}})}),(0,a.jsxs)(s.Z,{sx:{flexGrow:1,display:"flex",flexDirection:"column",gap:2},children:[(0,a.jsxs)(s.Z,{display:"flex",gap:1,children:[(0,a.jsxs)(u.Z,{variant:"outlined",component:"label",color:"primary",sx:{flexGrow:1},children:["사진 업로드",(0,a.jsx)("input",{type:"file",hidden:!0,onChange:e=>{let t=e.target.files[0];if(t){if(!["image/jpeg","image/png","image/gif","image/webp","image/svg+xml","image/bmp"].includes(t.type)){C("이미지 파일만 업로드 가능합니다 (JPG, PNG, GIF, WEBP, SVG, BMP).","error");return}if(t.size>512e3){C("파일 크기가 너무 큽니다. 500KB 이하의 파일을 선택하세요.","error");return}Z(t),M(URL.createObjectURL(t))}else console.error("파일이 선택되지 않았습니다.")},accept:"image/*"})]}),(0,a.jsx)(u.Z,{variant:"outlined",color:"error",onClick:()=>ep.mutate(),sx:{flexGrow:1},children:"사진 삭제"})]}),(0,a.jsx)(d.Z,{label:"닉네임",value:t,onChange:e=>{r(e.target.value),F(!1),T(!1),_("")},variant:"outlined",fullWidth:!0}),(0,a.jsx)(u.Z,{variant:"contained",color:"primary",fullWidth:!0,sx:{py:1.5,fontWeight:"bold"},onClick:ef,disabled:O||eg.isPending,startIcon:O||eg.isPending?(0,a.jsx)(c.Z,{size:20,color:"inherit"}):null,children:O?"닉네임 확인 중...":eg.isPending?"저장 중...":"저장하기"})]})]}),(0,a.jsx)(u.Z,{variant:"contained",color:"error",fullWidth:!0,sx:{py:1.5,fontWeight:"bold"},onClick:()=>{ex||e$?ev():em(!0)},children:ex||e$?"비밀번호 변경 취소":"비밀번호 변경"}),ex&&(0,a.jsxs)(s.Z,{sx:{mt:2,width:"100%",bgcolor:"background.paper",p:2,borderRadius:1,boxShadow:2,border:1,borderColor:"divider"},children:[(0,a.jsx)(d.Z,{label:"원래 비밀번호",type:"password",fullWidth:!0,variant:"outlined",sx:{mb:2},onChange:e=>ey(e.target.value)}),(0,a.jsx)(u.Z,{variant:"contained",color:"warning",fullWidth:!0,sx:{py:1.5,fontWeight:"bold"},onClick:()=>ew(),children:"확인하기"})]}),e$&&(0,a.jsxs)(s.Z,{sx:{mt:2,width:"100%",bgcolor:"background.paper",p:2,borderRadius:1,boxShadow:2,border:1,borderColor:"divider"},children:[(0,a.jsx)(o.Z,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:2,textAlign:"center"},children:"비밀번호 변경"}),(0,a.jsx)(d.Z,{label:"새 비밀번호",type:"password",fullWidth:!0,variant:"outlined",sx:{mb:2},onChange:e=>ek(e.target.value)}),(0,a.jsx)(d.Z,{label:"새 비밀번호 확인",type:"password",fullWidth:!0,variant:"outlined",sx:{mb:2},onChange:e=>ej(e.target.value)}),(0,a.jsx)(u.Z,{variant:"contained",color:"primary",fullWidth:!0,sx:{py:1.5,fontWeight:"bold",mb:1},onClick:eI,children:"비밀번호 변경"}),(0,a.jsx)(u.Z,{variant:"outlined",color:"secondary",fullWidth:!0,sx:{py:1.5,fontWeight:"bold"},onClick:()=>eD(!1),children:"비밀번호 변경 취소"})]})]})}),(0,a.jsx)(s.Z,{sx:{flexGrow:1},children:(0,a.jsxs)(s.Z,{sx:{bgcolor:"background.paper",boxShadow:2,borderRadius:2,p:3,position:"relative",minHeight:"400px"},children:[(0,a.jsx)(o.Z,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:2,color:"primary.main",textAlign:"center"},children:"작성한 글"}),es&&!eo&&(0,a.jsx)(s.Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"dark"===z.palette.mode?"rgba(26, 26, 46, 0.9)":"rgba(255, 255, 255, 0.8)",zIndex:1,borderRadius:2},children:(0,a.jsx)(c.Z,{size:40,sx:{color:"dark"===z.palette.mode?"#a78bfa":"primary.main"}})}),(0,a.jsx)($.Z,{tableData:(null==ea?void 0:ea.StoryResults)||[],showDeleteButton:!0,onDelete:e=>{eM.mutate(e)}}),(0,a.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,a.jsx)(S.Z,{pageCount:Math.ceil(((null==ea?void 0:ea.StoryTotal)||0)/er),onPageChange:e=>{X(e.selected+1)},currentPage:V})})]})})]}),(0,a.jsx)(s.Z,{sx:{width:"100%",maxWidth:"1400px"},children:(0,a.jsxs)(s.Z,{sx:{bgcolor:"background.paper",boxShadow:2,borderRadius:2,p:3,position:"relative",minHeight:"400px"},children:[(0,a.jsx)(o.Z,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",mb:2,color:"primary.main",textAlign:"center"},children:"작성한 댓글"}),ec&&!eh&&(0,a.jsx)(s.Z,{sx:{position:"absolute",top:0,left:0,right:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",bgcolor:"dark"===z.palette.mode?"rgba(26, 26, 46, 0.9)":"rgba(255, 255, 255, 0.8)",zIndex:1,borderRadius:2},children:(0,a.jsx)(c.Z,{size:40,sx:{color:"dark"===z.palette.mode?"#a78bfa":"primary.main"}})}),(0,a.jsx)(D.Z,{tableData:(null==el?void 0:el.CommentsResults)||[],commentsFlag:!1,showDeleteButton:!0,onDelete:e=>{eC.mutate(e)}}),(0,a.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",mt:2},children:(0,a.jsx)(S.Z,{pageCount:Math.ceil(((null==el?void 0:el.CommentsTotal)||0)/er),onPageChange:e=>{et(e.selected+1)},currentPage:ee})})]})})]})}},69183:function(e,t,r){"use strict";r.d(t,{a:function(){return a}});let a=(0,r(3011).U)(e=>({userImageUrl:"",setUserImageUrl:t=>e({userImageUrl:t}),TopBarImageDelete:!1,setTopBarImageDelete:()=>e({TopBarImageDelete:!0})}))}},function(e){e.O(0,[702,5152,4419,1991,1547,6593,455,2472,7404,9631,605,6931,2321,8531,7779,2971,2117,1744],function(){return e(e.s=292)}),_N_E=e.O()}]);