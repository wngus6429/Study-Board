(()=>{var e={};e.id=920,e.ids=[920],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},32083:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d}),r(31421),r(60246),r(91884),r(59198);var o=r(30170),s=r(45002),n=r(83876),a=r.n(n),i=r(66299),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);r.d(t,l);let d=["",{children:["(noLogin)",{children:["notice",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,31421)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\(noLogin)\\notice\\[id]\\page.tsx"]}]},{}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e),async e=>(await Promise.resolve().then(r.bind(r,71150))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,60246)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,91884)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,59198)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e),async e=>(await Promise.resolve().then(r.bind(r,71150))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],c=["C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\(noLogin)\\notice\\[id]\\page.tsx"],u="/(noLogin)/notice/[id]/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new o.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(noLogin)/notice/[id]/page",pathname:"/notice/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},69549:(e,t,r)=>{Promise.resolve().then(r.bind(r,89633))},89633:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>A});var o=r(97247),s=r(72497),n=r(70380),a=r(24222),i=r(42658),l=r(94742),d=r(81090),c=r(71804),u=r(74247),p=r(19065),x=r(83268),g=r(81430),h=r(41755),m=r(9190),b=r(88111),f=r(10863),y=r(99801),j=r.n(y),C=r(34178),S=r(28964),Z=r(797),k=r(19898),v=r(64560),w=r(73882),_=r(76510),I=r(66405),q=r(21660),P=r(75087),L=r(35756),D=r(95995),E=r(59167),R=r(67158),$=r(32219),M=r(62289),z=r(60079),H=r(51864),U=r(79906);function A({params:e}){let{showMessage:t}=(0,v.U)(e=>e),r=(0,C.useRouter)(),{data:y}=(0,k.useSession)(),A=(0,h.NL)(),B=(0,n.Z)(),[G,W]=(0,S.useState)(!1),{openCloseComments:T}=(0,w.x)(),[V,O]=(0,S.useState)(!1),[Y,F]=(0,S.useState)(null),[K,N]=(0,S.useState)(0),[J,Q]=(0,S.useState)(!1),[X,ee]=(0,S.useState)(1),[et,er]=(0,S.useState)({x:0,y:0}),[eo,es]=(0,S.useState)(!1),[en,ea]=(0,S.useState)({x:0,y:0}),[ei,el]=(0,S.useState)(null),[ed,ec]=(0,S.useState)(""),[eu,ep]=(0,S.useState)(!1),{addRecentView:ex}=(0,z.k)(),{data:eg,isLoading:eh,isError:em,error:eb}=(0,m.a)({queryKey:["story","notice",e?.id],queryFn:async()=>(await f.Z.get(`http://localhost:9999/api/story/notice/${e?.id}`)).data,retry:1,retryDelay:()=>2e3,enabled:!!e?.id&&!G,staleTime:24e4,gcTime:24e4}),ef=(0,b.D)({mutationFn:async e=>await f.Z.delete(`http://localhost:9999/api/story/${e}`,{withCredentials:!0}),onSuccess(){A.removeQueries({queryKey:["story","notice",e?.id]}),W(!0),t("삭제 성공","success"),r.push("/")},onError:e=>{e.response&&404===e.response.data.code?t(`${e.response.data.data}`,"error"):e.response&&401===e.response.data.code?t(`${e.response.data.data}`,"error"):t("삭제 중 오류가 발생했습니다.","error")}}),[ey,ej]=(0,S.useState)(!1),[eC,eS]=(0,S.useState)(null),eZ=(e,t)=>{F(e),N(t),Q(!0),ee(1),er({x:0,y:0})},ek=()=>{Q(!1),F(null),ee(1),er({x:0,y:0}),es(!1)},ev=()=>{el(null),ec("")};return eh?o.jsx(s.default,{}):em?o.jsx(I.Z,{}):(0,o.jsxs)(a.Z,{display:"flex",justifyContent:"center",alignItems:"center",sx:{padding:2,overflow:"hidden"},children:[ey&&o.jsx(_.Z,{open:ey,title:"공지사항 삭제",description:"이 공지사항을 삭제하시겠습니까? 삭제된 공지사항은 복구할 수 없습니다.",onConfirm:()=>{null!==eC&&(ef.mutate(eC),eS(null),ej(!1))},onCancel:()=>{eS(null),ej(!1)},confirmText:"삭제",cancelText:"취소"}),eg&&o.jsx(l.Z,{sx:{width:"100%",boxShadow:4,padding:3,borderRadius:2,bgcolor:"background.paper"},children:(0,o.jsxs)(d.Z,{children:[o.jsx(a.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:o.jsx(i.Z,{variant:"h4",component:"div",sx:{fontWeight:"bold"},children:eg.title})}),(0,o.jsxs)(i.Z,{variant:"subtitle2",color:"text.secondary",sx:{display:"flex",alignItems:"center",gap:1,bgcolor:"dark"===B.palette.mode?"rgba(26, 26, 46, 0.8)":"grey.100",p:1,borderRadius:1,mb:3,border:"dark"===B.palette.mode?"1px solid rgba(139, 92, 246, 0.3)":"none",boxShadow:"dark"===B.palette.mode?"0 0 10px rgba(139, 92, 246, 0.2)":"none"},children:[o.jsx(Z.Z,{fontSize:"small"}),"종류: 공지사항"]}),(0,o.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,o.jsxs)(a.Z,{display:"flex",alignItems:"center",gap:2,children:[o.jsx(c.Z,{src:`http://localhost:9999${eg.User.avatar}`,sx:{width:50,height:50,boxShadow:2}}),(0,o.jsxs)(a.Z,{children:[o.jsx(i.Z,{variant:"subtitle1",sx:{fontWeight:"bold",cursor:"pointer"},children:(0,o.jsxs)(U.default,{href:`/profile/${encodeURIComponent(eg.User.nickname)}`,passHref:!0,children:["작성자: ",eg.User.nickname]})}),(0,o.jsxs)(a.Z,{sx:{display:"flex",gap:1,mt:1},children:[o.jsx(u.Z,{onClick:()=>r.back(),size:"small",variant:"contained",color:"primary",children:"뒤로가기"}),o.jsx(u.Z,{onClick:()=>{r.push("/")},size:"small",variant:"contained",sx:{backgroundColor:"#ff9800","&:hover":{backgroundColor:"#f57c00"}},children:"메인으로"})]})]})]}),(0,o.jsxs)(a.Z,{textAlign:"right",children:[(0,o.jsxs)(i.Z,{variant:"subtitle2",color:"text.secondary",children:["작성일: ",j()(eg.created_at).format("YYYY/MM/DD HH:mm:ss")]}),(0,o.jsxs)(i.Z,{variant:"subtitle2",color:"text.secondary",children:["조회수: ",eg.read_count]})]})]}),o.jsx(a.Z,{sx:{lineHeight:1.7,bgcolor:"dark"===B.palette.mode?"rgba(26, 26, 46, 0.6)":"grey.50",p:2,borderRadius:1,boxShadow:"dark"===B.palette.mode?"0 0 15px rgba(139, 92, 246, 0.2)":1,mb:3,border:"dark"===B.palette.mode?"1px solid rgba(139, 92, 246, 0.3)":"none"},children:(()=>{let e;if(!eg?.content)return null;let t=/<img[^>]*src="([^"]*)"[^>]*>/g,r=[];for(;null!==(e=t.exec(eg.content));){let t=e[0],o=e[1],s=t.match(/style="([^"]*)"/),n=s?s[1]:void 0;r.push({src:o,style:n})}let s=eg.content,n=0,l=(s=s.replace(t,()=>`__IMAGE_PLACEHOLDER_${n++}__`)).split(/(__IMAGE_PLACEHOLDER_\d+__)/);return o.jsx(a.Z,{children:l.map((e,t)=>{if(!e.startsWith("__IMAGE_PLACEHOLDER_"))return o.jsx(i.Z,{component:"div",sx:{lineHeight:1.8,fontSize:"1rem","& p":{marginBottom:1},"& h1, & h2, & h3, & h4, & h5, & h6":{marginTop:2,marginBottom:1,fontWeight:"bold"},"& ul, & ol":{paddingLeft:2,marginBottom:1},"& li":{marginBottom:.5},"& blockquote":{borderLeft:"4px solid #ddd",paddingLeft:2,margin:"1rem 0",fontStyle:"italic"},"& code":{backgroundColor:"dark"===B.palette.mode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",padding:"2px 4px",borderRadius:"4px",fontSize:"0.9em"},"& pre":{backgroundColor:"dark"===B.palette.mode?"rgba(255,255,255,0.1)":"rgba(0,0,0,0.1)",padding:2,borderRadius:1,overflow:"auto","& code":{backgroundColor:"transparent",padding:0}}},dangerouslySetInnerHTML:{__html:e}},t);{let t=parseInt(e.match(/\d+/)?.[0]||"0"),s=eg.StoryImage?.[t],n=r[t];if(s){let e;if(n?.style){let t=n.style.match(/width:\s*([^;]+)/);if(t){let r=t[1].trim();r.includes("px")&&!r.includes("max-width")&&(e=r)}}return o.jsx(a.Z,{sx:{my:2,display:"flex",justifyContent:"center"},children:o.jsx(q.Z,{img:s,customWidth:e,onClick:()=>eZ(s,t),isLastOddImage:!1})},`image-${t}`)}return null}})})})()}),o.jsx(a.Z,{sx:{mt:4},children:o.jsx(H.Z,{})})]})}),o.jsx(p.Z,{open:J,onClose:ek,maxWidth:!1,fullWidth:!0,sx:{"& .MuiDialog-paper":{backgroundColor:"rgba(0, 0, 0, 0.9)",maxWidth:"95vw",maxHeight:"95vh",margin:1}},children:(0,o.jsxs)(a.Z,{sx:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",minHeight:"80vh",backgroundColor:"transparent"},children:[o.jsx(x.Z,{onClick:ek,sx:{position:"absolute",top:8,right:8,color:"white",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:o.jsx(P.Z,{})}),eg&&eg.StoryImage&&eg.StoryImage.length>1&&K>0&&o.jsx(x.Z,{onClick:()=>{if(K>0){let e=K-1;N(e),F(eg?.StoryImage?.[e]||null),ee(1),er({x:0,y:0})}},sx:{position:"absolute",left:16,color:"white",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:o.jsx(L.Z,{})}),eg&&eg.StoryImage&&eg.StoryImage.length>1&&K<eg.StoryImage.length-1&&o.jsx(x.Z,{onClick:()=>{if(eg&&eg.StoryImage&&K<eg.StoryImage.length-1){let e=K+1;N(e),F(eg.StoryImage[e]),ee(1),er({x:0,y:0})}},sx:{position:"absolute",right:16,color:"white",zIndex:2,backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:o.jsx(D.Z,{})}),(0,o.jsxs)(a.Z,{sx:{position:"absolute",bottom:16,left:16,display:"flex",gap:1,zIndex:2},children:[o.jsx(g.Z,{title:"축소",children:o.jsx(x.Z,{onClick:()=>{ee(e=>Math.max(e-.5,.5))},sx:{color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:o.jsx(R.Z,{})})}),o.jsx(g.Z,{title:"확대",children:o.jsx(x.Z,{onClick:()=>{ee(e=>Math.min(e+.5,3))},sx:{color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.7)"}},children:o.jsx(E.Z,{})})})]}),Y&&o.jsx(a.Z,{component:"img",src:`http://localhost:9999${Y.link}`,alt:Y.image_name,sx:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain",transform:`scale(${X}) translate(${et.x}px, ${et.y}px)`,cursor:X>1?eo?"grabbing":"grab":"default",transition:eo?"none":"transform 0.2s ease"}}),Y&&o.jsx(a.Z,{sx:{position:"absolute",bottom:16,right:16,color:"white",backgroundColor:"rgba(0, 0, 0, 0.5)",padding:1,borderRadius:1,fontSize:"0.875rem",zIndex:2},children:eg&&eg.StoryImage&&eg.StoryImage.length>1?`${K+1} / ${eg.StoryImage.length}`:"1 / 1"})]})}),o.jsx($.Z,{anchorEl:ei,open:!!ei,onClose:ev,nickname:ed,onSendMessage:()=>{ep(!0),ev()}}),o.jsx(M.Z,{open:eu,onClose:()=>{ep(!1)},receiverNickname:ed})]})}},60079:(e,t,r)=>{"use strict";r.d(t,{k:()=>n});var o=r(99713),s=r(92377);let n=(0,o.U)()((0,s.tJ)((e,t)=>({recentViews:[],addRecentView:r=>{let o=t().recentViews,s=new Date().toISOString(),n=o.findIndex(e=>e.id===r.id);if(-1!==n){let t=[...o];t.splice(n,1),t.unshift({...r,viewedAt:s}),e({recentViews:t})}else{let t=[{...r,viewedAt:s},...o];t.length>30&&t.splice(30),e({recentViews:t})}},clearRecentViews:()=>e({recentViews:[]})}),{name:"recent-views-storage"}))},31421:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});let o=(0,r(45347).createProxy)(String.raw`C:\Users\wngus\Documents\Study-Board\front\src\app\(noLogin)\notice\[id]\page.tsx#default`)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[379,819,33,586],()=>r(32083));module.exports=o})();