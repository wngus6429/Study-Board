# AWS 비용 비교: EC2 vs Amplify Gen2

공부용 수준의 사용량을 기준으로 월 비용을 비교해드리겠습니다.

## 💰 현재 구조 (EC2 + 관계형 DB) 월 비용

### EC2 기반 구조

```
🖥️ EC2 t3.micro (1년 예약)    $8.5/월
🗄️ RDS db.t3.micro MySQL      $13/월
📁 S3 스토리지 (5GB)          $0.12/월
🌐 ALB 로드밸런서             $16/월
📡 데이터 전송 (10GB)         $0.9/월
──────────────────────────────────
💸 총 비용: 약 $38.5/월 (≈ 52,000원)
```

## ⚡ Amplify Gen2 월 비용

### 서버리스 구조

```
🚀 Amplify Hosting            Free (12개월)
📊 AppSync GraphQL            $4/월 (100만 요청)
🗃️ DynamoDB                   Free (25GB까지)
🔐 Cognito                    Free (5만 MAU까지)
📁 S3 스토리지 (5GB)         $0.12/월
⚡ Lambda 함수 실행           Free (100만 요청)
📡 CloudFront CDN             Free (50GB)
──────────────────────────────────
💸 총 비용: 약 $4.12/월 (≈ 5,500원)
```

## 📊 상세 비교표

| 서비스           | 현재 (EC2)  | Amplify Gen2    | 차이  |
| ---------------- | ----------- | --------------- | ----- |
| **컴퓨팅**       | EC2 $8.5/월 | Lambda Free     | -$8.5 |
| **데이터베이스** | RDS $13/월  | DynamoDB Free   | -$13  |
| **호스팅**       | ALB $16/월  | Amplify Free    | -$16  |
| **인증**         | 별도 구현   | Cognito Free    | $0    |
| **API**          | EC2 포함    | AppSync $4/월   | +$4   |
| **스토리지**     | S3 $0.12/월 | S3 $0.12/월     | $0    |
| **CDN**          | 없음        | CloudFront Free | $0    |

## 🎯 공부용 사용량 기준

### 예상 월 사용량

- **사용자**: 1-5명 정도
- **API 요청**: 월 10만-50만 건
- **저장공간**: 5GB 이하
- **트래픽**: 월 10GB 이하

### 실제 비용 예상

```
현재 구조: 약 52,000원/월
Amplify Gen2: 약 5,500원/월

💰 월 절약 금액: 약 46,500원
💰 연 절약 금액: 약 558,000원
```

## 🔍 추가 고려사항

### Amplify Gen2의 추가 장점

- **무료 티어**: 대부분 서비스가 12개월 무료
- **자동 확장**: 트래픽 증가 시 자동 처리
- **관리 부담 없음**: 서버 관리, 패치, 백업 등 불필요
- **보안**: AWS 레벨의 보안 기본 제공

### 잠재적 비용 증가 요인

- **트래픽 폭증**: AppSync 요청이 100만 건 초과 시
- **저장공간**: DynamoDB 25GB 초과 시
- **함수 실행**: Lambda 100만 실행 초과 시

## 📈 사용량별 비용 시뮬레이션

### 월 100만 요청 기준

```
현재 구조: 52,000원 (고정)
Amplify Gen2: 5,500원

절약: 89% 절약 ✅
```

### 월 1000만 요청으로 증가 시

```
현재 구조: 52,000원 + 서버 업그레이드 비용
Amplify Gen2: 약 15,000원

여전히 60% 이상 절약 ✅
```

## 🎯 결론

**공부용 수준에서는 Amplify Gen2가 압도적으로 유리합니다:**

1. **💰 비용**: 약 90% 절약 (월 46,500원 절약)
2. **⚡ 성능**: CDN, 자동확장으로 더 빠름
3. **🛠️ 관리**: 서버 관리 부담 제로
4. **📈 확장성**: 사용량 증가해도 자동 대응

**단, 주의사항:**

- 학습 곡선이 있음 (GraphQL, DynamoDB)
- 기존 코드 대부분 재작성 필요
- AWS 종속성 증가

**추천:** 새로운 프로젝트나 리팩토링을 고려 중이라면 Amplify Gen2를 강력히 추천합니다! 💪

## 📝 추가 참고 사항

### AWS 무료 티어 한도

- **EC2**: t2.micro/t3.micro 월 750시간 (1년간)
- **RDS**: db.t2.micro 월 750시간 (1년간)
- **S3**: 5GB 스토리지, 20,000 GET 요청
- **Lambda**: 월 100만 요청, 400,000 GB-초
- **DynamoDB**: 25GB 스토리지, 25단위 읽기/쓰기
- **Cognito**: 월 50,000 MAU

### 비용 최적화 팁

1. **예약 인스턴스**: EC2 사용 시 1년 예약으로 최대 72% 절약
2. **스팟 인스턴스**: 개발/테스트 환경에서 최대 90% 절약
3. **CloudWatch**: 리소스 모니터링으로 불필요한 비용 차단
4. **Auto Scaling**: 트래픽에 따른 자동 스케일링으로 비용 최적화
