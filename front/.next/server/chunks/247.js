"use strict";exports.id=247,exports.ids=[247],exports.modules={37247:(e,t,i)=>{i.d(t,{Z:()=>H});var l=i(97247),r=i(28964),o=i(42e3),n=i(45305),s=i(22536),a=i(90594),c=i(76019),d=i(14407),x=i(8043),g=i(93108),f=i(36887),p=i(70380),u=i(22621),b=i(42658),m=i(24222),h=i(68536),j=i(81430),Z=i(83268),k=i(40998),v=i(42939),z=i(6324),C=i(19794),A=i(63426),y=i(81790),S=i(24785),L=i(676),R=i(21468),w=i(95594),$=i(42392),B=i(90321),U=i(70738),T=i(9992),I=i(62417),O=i(74621);function H({value:e,onChange:t,placeholder:i="내용을 입력하세요...",height:H="300px",disabled:M=!1,onFilesChange:P}){let[W,q]=(0,r.useState)([]),E="dark"===(0,p.Z)().palette.mode,F=(0,o.jE)({extensions:[n.Z,f.Z.configure({}),s.ZP.configure({openOnClick:!1,HTMLAttributes:{style:"color: #3b82f6; text-decoration: underline;"}}),a.Z.configure({types:["heading","paragraph"]}),c.Z,d.Z,x.ZP.configure({multicolor:!0}),g.Z],content:e,immediatelyRender:!1,onUpdate:({editor:e})=>{t(e.getHTML())},editable:!M,editorProps:{attributes:{style:`min-height: ${H}; padding: 16px; outline: none;`,class:"tiptap-editor"}}}),D=(0,r.useCallback)(e=>{if(!F)return;let{state:t}=F,{selection:i}=t,{from:l}=i,r=t.doc.nodeAt(l);if(r&&"image"===r.type.name){let t={...r.attrs},i=t.style||"";switch(i=(i=(i=i.replace(/margin[^;]*;?/g,"")).replace(/display[^;]*;?/g,"")).replace(/text-align[^;]*;?/g,""),e){case"left":i+=" margin: 8px auto 8px 0; display: block;";break;case"center":i+=" margin: 8px auto; display: block;";break;case"right":i+=" margin: 8px 0 8px auto; display: block;"}(i=i.replace(/;\s*;/g,";").trim()).endsWith(";")||(i+=";"),t.style=i,F.chain().setNodeSelection(l).updateAttributes("image",t).run()}},[F]),G=(0,r.useCallback)(()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!0,e.onchange=e=>{let t=Array.from(e.target.files||[]);if(!t.length)return;let i=t.filter(e=>e.size>104857600);if(i.length){alert(`100MB 초과 파일:
${i.map(e=>e.name).join("\n")}`);return}let l=t.map(e=>{let t=URL.createObjectURL(e);return setTimeout(()=>URL.revokeObjectURL(t),3e5),{type:"image",attrs:{src:t,alt:e.name,title:e.name}}});F?.chain().focus().insertContent(l).run(),q(e=>[...e,...t])},e.click()},[F]),N=(0,r.useCallback)(()=>{let e=document.createElement("input");e.type="file",e.accept="video/*",e.multiple=!1,e.onchange=e=>{let t=e.target.files?.[0];if(!t)return;if(t.size>1073741824){alert(`${t.name}은(는) 1GB를 초과합니다.`);return}let i=URL.createObjectURL(t);setTimeout(()=>URL.revokeObjectURL(i),3e5);let l=`
        <div style="margin:16px 0; text-align:center;">
          <video controls style="max-width:100%; height:auto; border-radius:2px; box-shadow:0 4px 12px rgba(0,0,0,0.15);">
            <source src="${i}" type="${t.type}" />
            동영상을 재생할 수 없습니다.
          </video>
          <p style="margin:8px 0 0; font-size:14px; color:#e94057; font-weight:500;">
            🎬 ${t.name} (${(t.size/1024/1024).toFixed(2)}MB)
          </p>
        </div>
      `;F?.chain().focus().insertContent(l).run(),q(e=>[...e,t])},e.click()},[F]),J=(0,r.useCallback)(()=>{let e=window.prompt("링크 URL을 입력하세요:");e&&F?.chain().focus().setLink({href:e}).run()},[F]);return F?l.jsx(m.Z,{sx:{position:"relative",mb:2},children:(0,l.jsxs)(u.Z,{elevation:0,sx:{border:`1px solid ${E?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"}`,borderRadius:"12px",overflow:"hidden",background:E?"rgba(30, 32, 38, 0.8)":"#ffffff",transition:"all 0.3s ease","&:hover":{borderColor:E?"rgba(139, 92, 246, 0.3)":"rgba(139, 92, 246, 0.5)",boxShadow:E?"0 4px 20px rgba(139, 92, 246, 0.15)":"0 4px 20px rgba(139, 92, 246, 0.1)"},"&:focus-within":{borderColor:E?"#8b5cf6":"#6366f1",boxShadow:E?"0 0 0 3px rgba(139, 92, 246, 0.2)":"0 0 0 3px rgba(99, 102, 241, 0.2)"}},children:[(0,l.jsxs)(m.Z,{sx:{background:E?"rgba(20, 22, 28, 0.9)":"#f8fafc",borderBottom:`1px solid ${E?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)"}`,p:1,display:"flex",flexWrap:"wrap",gap:.5},children:[(0,l.jsxs)(h.Z,{size:"small",children:[l.jsx(j.Z,{title:F.can().undo()?"실행 취소":"",children:l.jsx("span",{children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().undo().run(),disabled:!F.can().undo(),sx:{color:E?"#e2e8f0":"#475569"},children:l.jsx(v.Z,{fontSize:"small"})})})}),l.jsx(j.Z,{title:F.can().redo()?"다시 실행":"",children:l.jsx("span",{children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().redo().run(),disabled:!F.can().redo(),sx:{color:E?"#e2e8f0":"#475569"},children:l.jsx(z.Z,{fontSize:"small"})})})})]}),l.jsx(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,l.jsxs)(h.Z,{size:"small",children:[l.jsx(j.Z,{title:"굵게",children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().toggleBold().run(),sx:{color:F.isActive("bold")?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive("bold")?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(C.Z,{fontSize:"small"})})}),l.jsx(j.Z,{title:"기울임",children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().toggleItalic().run(),sx:{color:F.isActive("italic")?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive("italic")?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(A.Z,{fontSize:"small"})})}),l.jsx(j.Z,{title:"밑줄",children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().toggleUnderline().run(),sx:{color:F.isActive("underline")?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive("underline")?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(y.Z,{fontSize:"small"})})})]}),l.jsx(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,l.jsxs)(h.Z,{size:"small",children:[l.jsx(j.Z,{title:"왼쪽 정렬",children:l.jsx(Z.Z,{size:"small",onClick:()=>{let{state:e}=F,{selection:t}=e,{from:i}=t,l=e.doc.nodeAt(i);l&&"image"===l.type.name?D("left"):F.chain().focus().setTextAlign("left").run()},sx:{color:F.isActive({textAlign:"left"})?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive({textAlign:"left"})?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(S.Z,{fontSize:"small"})})}),l.jsx(j.Z,{title:"가운데 정렬",children:l.jsx(Z.Z,{size:"small",onClick:()=>{let{state:e}=F,{selection:t}=e,{from:i}=t,l=e.doc.nodeAt(i);l&&"image"===l.type.name?D("center"):F.chain().focus().setTextAlign("center").run()},sx:{color:F.isActive({textAlign:"center"})?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive({textAlign:"center"})?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(L.Z,{fontSize:"small"})})}),l.jsx(j.Z,{title:"오른쪽 정렬",children:l.jsx(Z.Z,{size:"small",onClick:()=>{let{state:e}=F,{selection:t}=e,{from:i}=t,l=e.doc.nodeAt(i);l&&"image"===l.type.name?D("right"):F.chain().focus().setTextAlign("right").run()},sx:{color:F.isActive({textAlign:"right"})?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive({textAlign:"right"})?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(R.Z,{fontSize:"small"})})})]}),l.jsx(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,l.jsxs)(h.Z,{size:"small",children:[l.jsx(j.Z,{title:"불릿 리스트",children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().toggleBulletList().run(),sx:{color:F.isActive("bulletList")?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive("bulletList")?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(w.Z,{fontSize:"small"})})}),l.jsx(j.Z,{title:"번호 리스트",children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().toggleOrderedList().run(),sx:{color:F.isActive("orderedList")?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive("orderedList")?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx($.Z,{fontSize:"small"})})})]}),l.jsx(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,l.jsxs)(h.Z,{size:"small",children:[l.jsx(j.Z,{title:"인용문",children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().toggleBlockquote().run(),sx:{color:F.isActive("blockquote")?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive("blockquote")?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(B.Z,{fontSize:"small"})})}),l.jsx(j.Z,{title:"코드 블록",children:l.jsx(Z.Z,{size:"small",onClick:()=>F.chain().focus().toggleCodeBlock().run(),sx:{color:F.isActive("codeBlock")?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive("codeBlock")?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(U.Z,{fontSize:"small"})})})]}),l.jsx(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,l.jsxs)(h.Z,{size:"small",children:[l.jsx(j.Z,{title:"이미지 업로드",children:l.jsx(Z.Z,{size:"small",onClick:G,sx:{color:E?"#e2e8f0":"#475569"},children:l.jsx(T.Z,{fontSize:"small"})})}),l.jsx(j.Z,{title:"동영상 업로드",children:l.jsx(Z.Z,{size:"small",onClick:N,sx:{color:E?"#e2e8f0":"#475569"},children:l.jsx(I.Z,{fontSize:"small"})})}),l.jsx(j.Z,{title:"링크 추가",children:l.jsx(Z.Z,{size:"small",onClick:J,sx:{color:F.isActive("link")?"#e94057":E?"#e2e8f0":"#475569",backgroundColor:F.isActive("link")?"rgba(233, 64, 87, 0.1)":"transparent"},children:l.jsx(O.Z,{fontSize:"small"})})})]})]}),l.jsx(m.Z,{sx:{minHeight:H,"& .tiptap-editor":{color:E?"#e2e8f0":"#1e293b",fontSize:"15px",lineHeight:1.6,fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',"&:focus":{outline:"none"},"& p":{margin:"0 0 8px 0"},"& h1, & h2, & h3":{margin:"16px 0 8px 0",fontWeight:600},"& h1":{fontSize:"1.875rem",background:"linear-gradient(135deg, #8a2387, #e94057, #f27121)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},"& h2":{fontSize:"1.5rem",color:E?"#a78bfa":"#8b5cf6"},"& h3":{fontSize:"1.25rem",color:E?"#fbbf24":"#f59e0b"},"& blockquote":{borderLeft:`4px solid ${E?"#8b5cf6":"#6366f1"}`,background:E?"rgba(139, 92, 246, 0.1)":"rgba(99, 102, 241, 0.05)",padding:"12px 16px",margin:"16px 0",borderRadius:"0 8px 8px 0"},"& pre":{background:E?"#1e293b":"#f1f5f9",color:E?"#e2e8f0":"#334155",borderRadius:"8px",padding:"16px",margin:"16px 0",border:`1px solid ${E?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)"}`,overflow:"auto"},"& code":{background:E?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em"},"& ul, & ol":{paddingLeft:"24px",margin:"12px 0",listStylePosition:"outside"},"& ol":{listStyleType:"decimal"},"& ul":{listStyleType:"disc"},"& li":{margin:"4px 0"},"& a":{color:E?"#60a5fa":"#3b82f6",textDecoration:"none","&:hover":{textDecoration:"underline"}},"& img.editor-image":{transition:"all 0.2s ease"}},"& .tiptap-editor.ProseMirror-focused":{outline:"none"},"& .tiptap-editor p.is-editor-empty:first-of-type::before":{content:`"${i}"`,float:"left",color:"#94a3b8",pointerEvents:"none",height:0}},children:l.jsx(o.kg,{editor:F})})]})}):l.jsx(u.Z,{elevation:0,sx:{border:`1px solid ${E?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"}`,borderRadius:"12px",overflow:"hidden",background:E?"rgba(30, 32, 38, 0.8)":"#ffffff",height:H,display:"flex",alignItems:"center",justifyContent:"center"},children:l.jsx(b.Z,{color:"text.secondary",children:"에디터 로딩 중..."})})}}};