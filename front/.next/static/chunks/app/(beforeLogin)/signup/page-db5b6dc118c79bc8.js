(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1846],{59728:function(e,r,a){Promise.resolve().then(a.bind(a,40626))},40626:function(e,r,a){"use strict";a.r(r);var t=a(57437),o=a(2265),d=a(31691),l=a(19978),i=a(93062),s=a(2069),n=a(67116),u=a(46387),f=a(41327),c=a(97404),g=a(91991),p=a(35389),b=a(85860),m=a(11953),h=a(82279),x=a(29239),k=a(83464),C=a(99376),M=a(80605),Z=a(30419);r.default=()=>{let e=(0,C.useRouter)(),r=(0,d.Z)(),{update:a}=(0,M.useSession)(),[v,j]=(0,o.useState)(!1),{showMessage:w}=(0,Z.U)(e=>e),S=async()=>{if(!F.trim()){w("닉네임을 입력해주세요.","warning");return}R(!0);try{let{isAvailable:e,message:r}=(await k.Z.get("".concat("http://localhost:9999","/api/auth/check-nickname/").concat(encodeURIComponent(F)))).data;H(e),U(!0),V(r),w(r,e?"success":"error")}catch(e){console.error("닉네임 중복 확인 실패:",e),H(!1),U(!1),V("중복 확인 중 오류가 발생했습니다."),w("중복 확인 중 오류가 발생했습니다.","error")}finally{R(!1)}},[y,I]=(0,o.useState)(""),[W,O]=(0,o.useState)(""),[_,z]=(0,o.useState)(""),[F,T]=(0,o.useState)(""),[L,P]=(0,o.useState)(""),[q,U]=(0,o.useState)(!1),[E,H]=(0,o.useState)(!1),[N,R]=(0,o.useState)(!1),[D,V]=(0,o.useState)(""),Y=""!==W&&""!==_&&W!==_,A=async r=>{if(r.preventDefault(),W!==_){w("비밀번호가 일치하지 않습니다.","error");return}if(!v){w("약관에 동의해주세요.","info");return}if(!q||!E){w("닉네임 중복 확인을 해주세요.","warning");return}await k.Z.post("".concat("http://localhost:9999","/api/auth/signup"),{user_email:y,password:W,nickname:F},{withCredentials:!0}).then(async r=>{if(201===r.status)try{let[r,t]=await Promise.all([await k.Z.post("".concat("http://localhost:9999","/api/auth/signin"),{user_email:y,password:W},{withCredentials:!0}),await (0,M.signIn)("credentials",{user_email:y,password:W,redirect:!1})]);(null==r?void 0:r.status)===200&&(null==t?void 0:t.status)===200&&(w("회원가입, 로그인 성공","success"),await a(),e.refresh(),e.push("/"))}catch(e){P("유효하지 않은 요청입니다.")}}).catch(e=>{P(e.response.data.data)})};return(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)(l.Z,{component:"main",maxWidth:"xs",children:[(0,t.jsx)(i.ZP,{}),(0,t.jsxs)(s.Z,{sx:{marginTop:8,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"dark"===r.palette.mode?"rgba(26, 26, 46, 0.95)":"#ffffff",padding:4,borderRadius:2,boxShadow:"dark"===r.palette.mode?"0px 8px 32px rgba(139, 92, 246, 0.3)":"0px 8px 24px rgba(0, 0, 0, 0.15)",border:"dark"===r.palette.mode?"1px solid rgba(139, 92, 246, 0.4)":"1px solid rgba(0, 0, 0, 0.1)"},children:[(0,t.jsx)(n.Z,{sx:{m:1,bgcolor:"dark"===r.palette.mode?"rgba(139, 92, 246, 0.8)":"#1976d2",boxShadow:"dark"===r.palette.mode?"0 0 15px rgba(139, 92, 246, 0.5)":"0 4px 12px rgba(25, 118, 210, 0.3)"}}),(0,t.jsx)(u.Z,{component:"h1",variant:"h5",sx:{color:"dark"===r.palette.mode?"#ffffff":"#1a1a2e",textShadow:"dark"===r.palette.mode?"0 0 10px rgba(139, 92, 246, 0.5)":"none",fontWeight:"bold",mb:3},children:"회원가입"}),(0,t.jsx)(s.Z,{component:"form",noValidate:!0,sx:{mt:1},children:(0,t.jsxs)(f.Z,{component:"fieldset",variant:"standard",children:[(0,t.jsxs)(x.Z,{container:!0,spacing:1,children:[(0,t.jsx)(x.Z,{size:12,children:(0,t.jsx)(c.Z,{required:!0,autoFocus:!0,fullWidth:!0,type:"email",id:"email",name:"email",label:"이메일 주소",value:y,onChange:e=>I(e.target.value),sx:{"& .MuiOutlinedInput-root":{backgroundColor:"dark"===r.palette.mode?"rgba(26, 26, 46, 0.8)":"#f8f9fa","& fieldset":{borderColor:"dark"===r.palette.mode?"rgba(139, 92, 246, 0.5)":"rgba(0, 0, 0, 0.2)"},"&:hover fieldset":{borderColor:"dark"===r.palette.mode?"rgba(139, 92, 246, 0.8)":"#1976d2"},"&.Mui-focused fieldset":{borderColor:"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"}},"& .MuiInputLabel-root":{color:"dark"===r.palette.mode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&.Mui-focused":{color:"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"}},"& .MuiOutlinedInput-input":{color:"dark"===r.palette.mode?"#ffffff":"#1a1a2e"}}})}),(0,t.jsx)(x.Z,{size:12,children:(0,t.jsxs)(s.Z,{sx:{display:"flex",gap:1,alignItems:"flex-start"},children:[(0,t.jsx)(c.Z,{required:!0,autoFocus:!0,fullWidth:!0,type:"text",id:"nickname",name:"nickname",label:"닉네임",value:F,onChange:e=>{T(e.target.value),U(!1),H(!1),V("")},error:q&&!E,helperText:D,sx:{"& .MuiOutlinedInput-root":{backgroundColor:"dark"===r.palette.mode?"rgba(26, 26, 46, 0.8)":"#f8f9fa","& fieldset":{borderColor:q&&!E?"#f44336":q&&E?"#4caf50":"dark"===r.palette.mode?"rgba(139, 92, 246, 0.5)":"rgba(0, 0, 0, 0.2)"},"&:hover fieldset":{borderColor:q&&!E?"#f44336":q&&E?"#4caf50":"dark"===r.palette.mode?"rgba(139, 92, 246, 0.8)":"#1976d2"},"&.Mui-focused fieldset":{borderColor:q&&!E?"#f44336":q&&E?"#4caf50":"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"}},"& .MuiInputLabel-root":{color:q&&!E?"#f44336":"dark"===r.palette.mode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&.Mui-focused":{color:q&&!E?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"}},"& .MuiOutlinedInput-input":{color:"dark"===r.palette.mode?"#ffffff":"#1a1a2e"},"& .MuiFormHelperText-root":{color:q&&!E?"#f44336":q&&E?"#4caf50":"dark"===r.palette.mode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)",fontWeight:"500"}}}),(0,t.jsx)(g.Z,{variant:"outlined",onClick:S,disabled:!F.trim()||N,sx:{minWidth:"100px",height:"56px",borderColor:"dark"===r.palette.mode?"rgba(139, 92, 246, 0.7)":"#1976d2",color:"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2","&:hover":{borderColor:"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1565c0",backgroundColor:"dark"===r.palette.mode?"rgba(139, 92, 246, 0.1)":"rgba(25, 118, 210, 0.04)"},"&:disabled":{borderColor:"dark"===r.palette.mode?"rgba(139, 92, 246, 0.3)":"rgba(25, 118, 210, 0.3)",color:"dark"===r.palette.mode?"rgba(255, 255, 255, 0.3)":"rgba(0, 0, 0, 0.26)"}},children:N?(0,t.jsx)(p.Z,{size:20}):"중복확인"})]})}),(0,t.jsx)(x.Z,{size:12,children:(0,t.jsx)(c.Z,{required:!0,fullWidth:!0,type:"password",id:"password",name:"password",label:"비밀번호 (숫자+영문자+특수문자 8자리 이상)",value:W,onChange:e=>O(e.target.value),error:Y,sx:{"& .MuiOutlinedInput-root":{backgroundColor:"dark"===r.palette.mode?"rgba(26, 26, 46, 0.8)":"#f8f9fa","& fieldset":{borderColor:Y?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 0.5)":"rgba(0, 0, 0, 0.2)"},"&:hover fieldset":{borderColor:Y?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 0.8)":"#1976d2"},"&.Mui-focused fieldset":{borderColor:Y?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"},"&.Mui-error fieldset":{borderColor:"#f44336"}},"& .MuiInputLabel-root":{color:Y?"#f44336":"dark"===r.palette.mode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&.Mui-focused":{color:Y?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"},"&.Mui-error":{color:"#f44336"}},"& .MuiOutlinedInput-input":{color:"dark"===r.palette.mode?"#ffffff":"#1a1a2e"},"& .MuiFormHelperText-root":{color:"#f44336",fontWeight:"500"}}})}),(0,t.jsx)(x.Z,{size:12,children:(0,t.jsx)(c.Z,{required:!0,fullWidth:!0,type:"password",id:"rePassword",name:"rePassword",label:"비밀번호 재입력",value:_,onChange:e=>z(e.target.value),error:Y,sx:{"& .MuiOutlinedInput-root":{backgroundColor:"dark"===r.palette.mode?"rgba(26, 26, 46, 0.8)":"#f8f9fa","& fieldset":{borderColor:Y?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 0.5)":"rgba(0, 0, 0, 0.2)"},"&:hover fieldset":{borderColor:Y?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 0.8)":"#1976d2"},"&.Mui-focused fieldset":{borderColor:Y?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"},"&.Mui-error fieldset":{borderColor:"#f44336"}},"& .MuiInputLabel-root":{color:Y?"#f44336":"dark"===r.palette.mode?"rgba(255, 255, 255, 0.7)":"rgba(0, 0, 0, 0.6)","&.Mui-focused":{color:Y?"#f44336":"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"},"&.Mui-error":{color:"#f44336"}},"& .MuiOutlinedInput-input":{color:"dark"===r.palette.mode?"#ffffff":"#1a1a2e"},"& .MuiFormHelperText-root":{color:"#f44336",fontWeight:"500"}}})}),(0,t.jsx)(x.Z,{size:12,children:(0,t.jsx)(b.Z,{control:(0,t.jsx)(m.Z,{onChange:e=>{j(!v)},sx:{color:"dark"===r.palette.mode?"rgba(139, 92, 246, 0.7)":"#1976d2","&.Mui-checked":{color:"dark"===r.palette.mode?"rgba(139, 92, 246, 1)":"#1976d2"}}}),label:"회원가입 약관에 동의합니다.",sx:{"& .MuiFormControlLabel-label":{color:"dark"===r.palette.mode?"rgba(255, 255, 255, 0.8)":"rgba(0, 0, 0, 0.8)",fontWeight:"500"}}})})]}),L&&(0,t.jsx)(h.Z,{severity:"error",sx:{mt:2},children:L}),(0,t.jsx)(g.Z,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:1,mb:2,py:1.5,fontSize:"1.1rem",fontWeight:"bold",background:"dark"===r.palette.mode?"linear-gradient(135deg, rgba(139, 92, 246, 0.8), rgba(6, 182, 212, 0.8))":"linear-gradient(135deg, #1976d2, #42a5f5)","&:hover":{background:"dark"===r.palette.mode?"linear-gradient(135deg, rgba(139, 92, 246, 1), rgba(6, 182, 212, 1))":"linear-gradient(135deg, #1565c0, #1976d2)",transform:"translateY(-1px)"},"&:disabled":{background:"dark"===r.palette.mode?"rgba(139, 92, 246, 0.3)":"rgba(25, 118, 210, 0.3)",color:"dark"===r.palette.mode?"rgba(255, 255, 255, 0.3)":"rgba(255, 255, 255, 0.7)"},boxShadow:"dark"===r.palette.mode?"0 0 20px rgba(139, 92, 246, 0.4)":"0 4px 12px rgba(25, 118, 210, 0.3)",transition:"all 0.2s ease-in-out"},disabled:!v,size:"large",onClick:A,children:"회원가입"})]})})]})]})})}},30419:function(e,r,a){"use strict";a.d(r,{U:function(){return t}});let t=(0,a(3011).U)(e=>({messageState:!1,messageContent:"",messageStyle:"success",messageTransition:"fade",showMessage:function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fade";return e({messageState:!0,messageContent:r,messageStyle:a,messageTransition:t})},hideMessage:()=>e({messageState:!1,messageContent:""})}))}},function(e){e.O(0,[5152,4419,1991,1547,455,2472,7404,605,7665,2971,2117,1744],function(){return e(e.s=59728)}),_N_E=e.O()}]);