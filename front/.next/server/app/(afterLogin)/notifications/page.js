(()=>{var e={};e.id=129,e.ids=[129],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},96712:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>c,pages:()=>u,routeModule:()=>x,tree:()=>l}),r(63776),r(60246),r(91884),r(59198);var i=r(30170),s=r(45002),n=r(83876),a=r.n(n),o=r(66299),d={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>o[e]);r.d(t,d);let l=["",{children:["(afterLogin)",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,63776)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\(afterLogin)\\notifications\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e),async e=>(await Promise.resolve().then(r.bind(r,71150))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,60246)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,91884)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.bind(r,59198)),"C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,73881))).default(e),async e=>(await Promise.resolve().then(r.bind(r,71150))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Users\\wngus\\Documents\\Study-Board\\front\\src\\app\\(afterLogin)\\notifications\\page.tsx"],c="/(afterLogin)/notifications/page",p={require:r,loadChunk:()=>Promise.resolve()},x=new i.AppPageRouteModule({definition:{kind:s.x.APP_PAGE,page:"/(afterLogin)/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},63864:(e,t,r)=>{Promise.resolve().then(r.bind(r,43269))},6055:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(70531),s=r(97247);let n=(0,i.Z)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},47841:(e,t,r)=>{"use strict";r.d(t,{Z:()=>b});var i=r(28964),s=r(61929),n=r(1358),a=r(63574),o=r(91185),d=r(53017),l=r(39005),u=r(74039),c=r(97247);let p=(0,u.Z)(),x=(0,l.Z)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,o.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),m=e=>(0,d.Z)({props:e,name:"MuiContainer",defaultTheme:p}),h=(e,t)=>{let{classes:r,fixed:i,disableGutters:s,maxWidth:d}=e,l={root:["root",d&&`maxWidth${(0,o.Z)(String(d))}`,i&&"fixed",s&&"disableGutters"]};return(0,a.Z)(l,e=>(0,n.ZP)(t,e),r)};var f=r(14974),g=r(9380),y=r(59537);let b=function(e={}){let{createStyledComponent:t=x,useThemeProps:r=m,componentName:n="MuiContainer"}=e,a=t(({theme:e,ownerState:t})=>({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",...!t.disableGutters&&{paddingLeft:e.spacing(2),paddingRight:e.spacing(2),[e.breakpoints.up("sm")]:{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}}}),({theme:e,ownerState:t})=>t.fixed&&Object.keys(e.breakpoints.values).reduce((t,r)=>{let i=e.breakpoints.values[r];return 0!==i&&(t[e.breakpoints.up(r)]={maxWidth:`${i}${e.breakpoints.unit}`}),t},{}),({theme:e,ownerState:t})=>({..."xs"===t.maxWidth&&{[e.breakpoints.up("xs")]:{maxWidth:Math.max(e.breakpoints.values.xs,444)}},...t.maxWidth&&"xs"!==t.maxWidth&&{[e.breakpoints.up(t.maxWidth)]:{maxWidth:`${e.breakpoints.values[t.maxWidth]}${e.breakpoints.unit}`}}}));return i.forwardRef(function(e,t){let i=r(e),{className:o,component:d="div",disableGutters:l=!1,fixed:u=!1,maxWidth:p="lg",classes:x,...m}=i,f={...i,component:d,disableGutters:l,fixed:u,maxWidth:p},g=h(f,n);return(0,c.jsx)(a,{as:d,ownerState:f,className:(0,s.Z)(g.root,o),ref:t,...m})})}({createStyledComponent:(0,g.ZP)("div",{name:"MuiContainer",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e;return[t.root,t[`maxWidth${(0,f.Z)(String(r.maxWidth))}`],r.fixed&&t.fixed,r.disableGutters&&t.disableGutters]}}),useThemeProps:e=>(0,y.i)({props:e,name:"MuiContainer"})})},39005:(e,t,r)=>{"use strict";r.d(t,{Z:()=>i});let i=(0,r(1745).ZP)()},53017:(e,t,r)=>{"use strict";r.d(t,{Z:()=>n});var i=r(30724),s=r(13758);function n({props:e,name:t,defaultTheme:r,themeId:n}){let a=(0,s.Z)(r);return n&&(a=a[n]||a),function(e){let{theme:t,name:r,props:s}=e;return t&&t.components&&t.components[r]&&t.components[r].defaultProps?(0,i.Z)(t.components[r].defaultProps,s):s}({theme:a,name:t,props:e})}},43269:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>W});var i=r(97247),s=r(28964),n=r.n(s),a=r(24222),o=r(53187),d=r(47841),l=r(42658),u=r(22621),c=r(74247),p=r(40998),x=r(78708),m=r(82891),h=r(83268),f=r(11611),g=r(13142),y=r(34150),b=r(6055),v=r(41755),Z=r(9190),j=r(88111),P=r(34178),q=r(19898),C=r(80613),k=r(67325),w=r(37688),S=r(84957);function W(){let e=(0,P.useRouter)(),{data:t,status:r}=(0,q.useSession)(),W=(0,v.NL)(),[R,_]=(0,s.useState)(1),{data:G,isLoading:D,error:M}=(0,Z.a)({queryKey:["allNotifications",R],queryFn:()=>(0,C.kW)(R,S.VI),enabled:!!t?.user&&"authenticated"===r}),$=(0,j.D)({mutationFn:C.Ix,onSuccess:()=>{W.invalidateQueries({queryKey:["allNotifications"]}),W.invalidateQueries({queryKey:["unreadNotifications"]})}}),L=(0,j.D)({mutationFn:C.Go,onSuccess:()=>{W.invalidateQueries({queryKey:["allNotifications"]}),W.invalidateQueries({queryKey:["unreadNotifications"]})}}),N=(0,j.D)({mutationFn:C.no,onSuccess:()=>{W.invalidateQueries({queryKey:["allNotifications"]}),W.invalidateQueries({queryKey:["unreadNotifications"]})}});if("loading"===r)return i.jsx(a.Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"80vh",children:i.jsx(o.Z,{})});if(!t?.user)return e.push("/login"),null;let A=async t=>{if(t.isRead||await $.mutateAsync(t.id),t.comment?.storyId){let r=`/detail/story/${t.comment.storyId}#comment-${t.comment.id}`;e.push(r)}},F=e=>(0,k.Q)(new Date(e),{addSuffix:!0,locale:w.ko}),I=e=>{let t=e.comment?.author.nickname||"알 수 없는 사용자",r=e.comment?.content||"",i=r.length>100?r.substring(0,100)+"...":r;return"comment"===e.type?{title:`${t}님이 회원님의 글에 댓글을 남겼습니다`,content:i}:{title:`${t}님이 회원님의 댓글에 답글을 남겼습니다`,content:i}};return M?i.jsx(d.Z,{maxWidth:"md",sx:{mt:4},children:i.jsx(l.Z,{color:"error",children:"알림을 불러오는 중 오류가 발생했습니다."})}):i.jsx(d.Z,{maxWidth:"md",sx:{mt:4,mb:4},children:(0,i.jsxs)(u.Z,{sx:{p:3},children:[(0,i.jsxs)(a.Z,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,children:[i.jsx(l.Z,{variant:"h4",fontWeight:"bold",children:"알림"}),G&&G.items.some(e=>!e.isRead)&&i.jsx(c.Z,{variant:"outlined",onClick:()=>L.mutate(),disabled:L.isPending,children:"모두 읽음으로 표시"})]}),i.jsx(p.Z,{sx:{mb:2}}),D?i.jsx(a.Z,{display:"flex",justifyContent:"center",py:5,children:i.jsx(o.Z,{})}):G&&0!==G.items.length?(0,i.jsxs)(i.Fragment,{children:[i.jsx(x.Z,{children:G.items.map((e,t)=>{let{title:r,content:s}=I(e);return(0,i.jsxs)(n().Fragment,{children:[i.jsx(m.ZP,{sx:{cursor:"pointer",backgroundColor:e.isRead?"transparent":"action.hover","&:hover":{backgroundColor:"action.selected"},borderRadius:1,mb:1},onClick:()=>A(e),secondaryAction:i.jsx(h.Z,{edge:"end","aria-label":"delete",onClick:t=>{t.stopPropagation(),N.mutate(e.id)},children:i.jsx(b.Z,{})}),children:i.jsx(f.Z,{primary:(0,i.jsxs)(a.Z,{display:"flex",alignItems:"center",gap:1,children:[i.jsx(l.Z,{variant:"body1",fontWeight:e.isRead?"normal":"bold",children:r}),!e.isRead&&i.jsx(g.Z,{label:"새 알림",size:"small",color:"primary"})]}),secondary:(0,i.jsxs)(i.Fragment,{children:[i.jsx(l.Z,{variant:"body2",color:"text.secondary",sx:{mt:.5},children:s}),i.jsx(l.Z,{variant:"caption",color:"text.secondary",children:F(e.createdAt)})]})})}),t<G.items.length-1&&i.jsx(p.Z,{})]},e.id)})}),G.totalPages>1&&i.jsx(a.Z,{display:"flex",justifyContent:"center",mt:3,children:i.jsx(y.Z,{count:G.totalPages,page:R,onChange:(e,t)=>{_(t)},color:"primary"})})]}):i.jsx(a.Z,{py:5,textAlign:"center",children:i.jsx(l.Z,{color:"text.secondary",children:"알림이 없습니다."})})]})})}},63776:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});let i=(0,r(45347).createProxy)(String.raw`C:\Users\wngus\Documents\Study-Board\front\src\app\(afterLogin)\notifications\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[379,819,33],()=>r(96712));module.exports=i})();