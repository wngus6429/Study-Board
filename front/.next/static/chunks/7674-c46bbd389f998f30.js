"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7674],{75304:function(e,t,r){r.d(t,{$Z:function(){return d},O4:function(){return o},RC:function(){return s},bG:function(){return i},bX:function(){return n},o6:function(){return l}});var a=r(83464);let n=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await a.Z.get("".concat("http://localhost:9999","/api/messages/received"),{params:{page:e,limit:t},withCredentials:!0})).data}catch(e){return console.error("받은 쪽지 목록 조회 실패:",e),{messages:[],total:0,page:1,limit:10}}},o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;try{return(await a.Z.get("".concat("http://localhost:9999","/api/messages/sent"),{params:{page:e,limit:t},withCredentials:!0})).data}catch(e){return console.error("보낸 쪽지 목록 조회 실패:",e),{messages:[],total:0,page:1,limit:10}}},i=async e=>{try{return(await a.Z.post("".concat("http://localhost:9999","/api/messages/send"),e,{withCredentials:!0})).data}catch(e){throw console.error("쪽지 보내기 실패:",e),e}},s=async e=>(await a.Z.patch("".concat("http://localhost:9999","/api/messages/").concat(e,"/read"),{},{withCredentials:!0})).data,l=async(e,t)=>{try{return(await a.Z.patch("".concat("http://localhost:9999","/api/messages/").concat(e),t,{withCredentials:!0})).data}catch(e){throw console.error("쪽지 수정 실패:",e),e}},d=async e=>(await a.Z.delete("".concat("http://localhost:9999","/api/messages/").concat(e),{withCredentials:!0})).data},42082:function(e,t,r){var a=r(57437),n=r(2265),o=r(45841);let i=n.memo(e=>{let{img:t,isLastOddImage:r,onClick:i,customWidth:s,customMargin:l}=e,[d,c]=(0,n.useState)(null),p=(0,n.useRef)(Date.now()),[x,h]=(0,n.useState)(!1),g=(0,n.useMemo)(()=>t.link.toLowerCase().endsWith(".gif")?"".concat("http://localhost:9999").concat(t.link):"".concat("http://localhost:9999").concat(t.link,"?timestamp=").concat(p.current),[t.link]),u=!!d&&d.width/d.height>=1.3||r;return(0,a.jsx)(o.Z,{component:"img",image:g,alt:"이미지 ".concat(t.image_name),onLoad:e=>{let{naturalWidth:t,naturalHeight:r}=e.currentTarget;c({width:t,height:r}),h(!0)},onClick:()=>null==i?void 0:i(t),sx:(()=>{let e="\n        0 8px 32px rgba(0, 0, 0, 0.3),\n        0 4px 16px rgba(139, 92, 246, 0.4),\n        0 2px 8px rgba(59, 130, 246, 0.3),\n        0 1px 4px rgba(16, 185, 129, 0.2),\n        inset 0 1px 2px rgba(255, 255, 255, 0.1),\n        inset 0 -1px 2px rgba(0, 0, 0, 0.2)\n      ",t="\n        0 16px 48px rgba(0, 0, 0, 0.4),\n        0 8px 24px rgba(139, 92, 246, 0.6),\n        0 4px 16px rgba(59, 130, 246, 0.5),\n        0 2px 8px rgba(16, 185, 129, 0.4),\n        0 1px 4px rgba(245, 158, 11, 0.3),\n        0 0 20px rgba(139, 92, 246, 0.3),\n        0 0 40px rgba(59, 130, 246, 0.2),\n        inset 0 2px 4px rgba(255, 255, 255, 0.15),\n        inset 0 -2px 4px rgba(0, 0, 0, 0.3)\n      ";return s?{width:s,maxWidth:"100%",margin:l||"0 auto",borderRadius:2,objectFit:"contain",boxShadow:e,opacity:x?1:0,border:"1px solid rgba(139, 92, 246, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-12px) scale(1.02)",boxShadow:t,border:"1px solid rgba(139, 92, 246, 0.5)",cursor:i?"pointer":"default",filter:"brightness(1.05) contrast(1.1) saturate(1.1)"}}:{flexBasis:u?"100%":"calc(50% - 8px)",maxWidth:u?"100%":"calc(50% - 8px)",margin:u?"0 auto":void 0,borderRadius:2,objectFit:"contain",boxShadow:e,opacity:x?1:0,border:"1px solid rgba(139, 92, 246, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-12px) scale(1.02)",boxShadow:t,border:"1px solid rgba(139, 92, 246, 0.5)",cursor:i?"pointer":"default",filter:"brightness(1.05) contrast(1.1) saturate(1.1)"}}})()})});t.Z=i},57507:function(e,t,r){var a=r(57437);r(2265);var n=r(31691),o=r(53392),i=r(79507),s=r(77468),l=r(12258),d=r(9026),c=r(91991);t.Z=e=>{let{open:t,title:r,description:p,onConfirm:x,onCancel:h,confirmText:g="확인",cancelText:u="취소"}=e,b=(0,n.Z)();return(0,a.jsxs)(o.Z,{open:t,onClose:h,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",sx:{"& .MuiDialog-paper":{borderRadius:"16px",padding:"10px",backgroundColor:"dark"===b.palette.mode?"rgba(26, 26, 46, 0.95)":"#f9f9f9",boxShadow:"dark"===b.palette.mode?"0px 8px 25px rgba(139, 92, 246, 0.15)":"0px 4px 10px rgba(0, 0, 0, 0.1)",border:"dark"===b.palette.mode?"1px solid rgba(139, 92, 246, 0.3)":"none"}},children:[(0,a.jsx)(i.Z,{id:"confirm-dialog-title",sx:{fontWeight:"bold",fontSize:"1.5rem",textAlign:"center",color:"dark"===b.palette.mode?"#a78bfa":"#3f51b5"},children:r}),(0,a.jsx)(s.Z,{sx:{display:"flex",justifyContent:"center",textAlign:"center",padding:"12px 24px"},children:(0,a.jsx)(l.Z,{id:"confirm-dialog-description",sx:{fontSize:"1rem",color:"dark"===b.palette.mode?"#e2e8f0":"#555",whiteSpace:"pre-line"},children:p})}),(0,a.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"center",gap:"16px",padding:"8px"},children:[(0,a.jsx)(c.Z,{onClick:h,variant:"outlined",color:"primary",sx:{textTransform:"none",fontWeight:"bold",borderRadius:"8px",padding:"8px 16px",color:"dark"===b.palette.mode?"#a78bfa":"#3f51b5",borderColor:"dark"===b.palette.mode?"rgba(139, 92, 246, 0.5)":"#3f51b5","&:hover":{backgroundColor:"dark"===b.palette.mode?"rgba(139, 92, 246, 0.1)":"rgba(63, 81, 181, 0.04)",borderColor:"dark"===b.palette.mode?"rgba(139, 92, 246, 0.8)":"#3f51b5"}},children:u}),(0,a.jsx)(c.Z,{onClick:x,variant:"contained",color:"error",sx:{textTransform:"none",fontWeight:"bold",borderRadius:"8px",padding:"8px 16px",backgroundColor:"dark"===b.palette.mode?"#dc2626":"#f44336","&:hover":{backgroundColor:"dark"===b.palette.mode?"#b91c1c":"#d32f2f"}},children:g})]})]})}},71204:function(e,t,r){r.d(t,{Z:function(){return s}});var a=r(57437),n=r(2069),o=r(67208),i=r(46387);function s(){return(0,a.jsx)(n.Z,{display:"flex",justifyContent:"center",children:(0,a.jsx)(o.Z,{sx:{padding:3,boxShadow:3},children:(0,a.jsx)(i.Z,{variant:"h6",color:"error",gutterBottom:!0,children:"오류가 발생했습니다. 다시 시도해주세요."})})})}r(2265)},94623:function(e,t,r){r.d(t,{default:function(){return i}});var a=r(57437),n=r(35389),o=r(31691);function i(){let e=(0,o.Z)();return(0,a.jsx)("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"dark"===e.palette.mode?"rgba(18, 18, 18, 0.3)":"rgba(255, 255, 255, 0.3)",backdropFilter:"blur(1px)",zIndex:9999,display:"flex",justifyContent:"center",alignItems:"center",transition:"background-color 0.3s ease"},children:(0,a.jsxs)("div",{style:{textAlign:"center",backgroundColor:"dark"===e.palette.mode?"#1e1e1e":"#ffffff",padding:"24px 32px",borderRadius:"12px",boxShadow:"dark"===e.palette.mode?"0 8px 24px rgba(0, 0, 0, 0.5)":"0 8px 24px rgba(0, 0, 0, 0.15)",border:"dark"===e.palette.mode?"1px solid #333333":"1px solid #e0e0e0"},children:[(0,a.jsx)(n.Z,{size:48,thickness:4,sx:{color:"dark"===e.palette.mode?"#bb86fc":"#1976d2",marginBottom:1}}),(0,a.jsx)("div",{style:{marginTop:"12px",fontSize:"14px",color:"dark"===e.palette.mode?"#e0e0e0":"#666666",fontWeight:500},children:"로딩 중..."})]})})}r(2265)},16859:function(e,t,r){var a=r(57437),n=r(2265),o=r(53392),i=r(79507),s=r(46387),l=r(59832),d=r(77468),c=r(2069),p=r(97404),x=r(9026),h=r(91991),g=r(35389),u=r(8430),b=r(88164),m=r(21770),f=r(75304),v=r(30419);t.Z=e=>{let{open:t,onClose:r,receiverNickname:Z}=e,{showMessage:j}=(0,v.U)(),[k,y]=(0,n.useState)(""),[C,w]=(0,n.useState)(""),[S,z]=(0,n.useState)("");(0,n.useEffect)(()=>{Z&&Z.trim()&&z(Z)},[Z]),(0,n.useEffect)(()=>{},[Z,S]);let W=(0,m.D)({mutationFn:e=>(0,f.bG)(e),onSuccess:()=>{j("쪽지가 성공적으로 전송되었습니다!","success"),P()},onError:e=>{var t,r;j((null===(r=e.response)||void 0===r?void 0:null===(t=r.data)||void 0===t?void 0:t.message)||"쪽지 전송에 실패했습니다.","error")}}),P=()=>{r()};return(0,n.useEffect)(()=>{t||(y(""),w(""),z(""))},[t]),(0,a.jsxs)(o.Z,{open:t,onClose:P,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,minHeight:400}},children:[(0,a.jsxs)(i.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[(0,a.jsx)(s.Z,{variant:"h6",component:"span",children:"쪽지 보내기"}),(0,a.jsx)(l.Z,{onClick:P,size:"small",children:(0,a.jsx)(u.Z,{})})]}),(0,a.jsx)(d.Z,{sx:{py:2},children:(0,a.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[(0,a.jsx)(p.Z,{label:"받는 사람",value:S,disabled:!0,fullWidth:!0,variant:"outlined",size:"small"}),(0,a.jsx)(p.Z,{label:"제목",value:k,onChange:e=>y(e.target.value),fullWidth:!0,variant:"outlined",size:"small",placeholder:"제목을 입력하세요"}),(0,a.jsx)(p.Z,{label:"내용",value:C,onChange:e=>w(e.target.value),fullWidth:!0,multiline:!0,rows:6,variant:"outlined",placeholder:"내용을 입력하세요"})]})}),(0,a.jsxs)(x.Z,{sx:{px:3,pb:2},children:[(0,a.jsx)(h.Z,{onClick:P,variant:"outlined",children:"취소"}),(0,a.jsx)(h.Z,{onClick:()=>{if(!k.trim()){j("제목을 입력해주세요.","warning");return}if(!C.trim()){j("내용을 입력해주세요.","warning");return}W.mutate({receiverNickname:S.trim(),title:k.trim(),content:C.trim()})},variant:"contained",startIcon:W.isPending?(0,a.jsx)(g.Z,{size:16}):(0,a.jsx)(b.Z,{}),disabled:W.isPending,sx:{background:"linear-gradient(135deg, #8b5cf6, #06b6d4)","&:hover":{background:"linear-gradient(135deg, #7c3aed, #0891b2)"}},children:W.isPending?"전송 중...":"쪽지 보내기"})]})]})}},83879:function(e,t,r){var a=r(57437);r(2265);var n=r(38398),o=r(2069),i=r(46387),s=r(8350),l=r(15273),d=r(87055),c=r(53431),p=r(67051),x=r(72549),h=r(92495),g=r(99376);t.Z=e=>{let{open:t,anchorEl:r,onClose:u,nickname:b,onSendMessage:m}=e,f=(0,g.useRouter)();return(0,a.jsxs)(n.ZP,{open:t,anchorEl:r,onClose:u,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{sx:{borderRadius:1,minWidth:120,maxWidth:150,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}},children:[(0,a.jsx)(o.Z,{sx:{px:1.5,py:1},children:(0,a.jsx)(i.Z,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:b})}),(0,a.jsx)(s.Z,{}),(0,a.jsxs)(l.Z,{sx:{py:.5},children:[(0,a.jsxs)(d.ZP,{onClick:()=>{f.push("/profile/".concat(encodeURIComponent(b))),u()},sx:{"&:hover":{backgroundColor:"action.hover"},cursor:"pointer",py:.5,px:1,minHeight:32},children:[(0,a.jsx)(c.Z,{sx:{minWidth:28},children:(0,a.jsx)(x.Z,{fontSize:"small"})}),(0,a.jsx)(p.Z,{primary:"프로필 보기",primaryTypographyProps:{variant:"body2",fontSize:"0.8rem"}})]}),(0,a.jsxs)(d.ZP,{onClick:()=>{m(),u()},sx:{"&:hover":{backgroundColor:"action.hover"},cursor:"pointer",py:.5,px:1,minHeight:32},children:[(0,a.jsx)(c.Z,{sx:{minWidth:28},children:(0,a.jsx)(h.Z,{fontSize:"small"})}),(0,a.jsx)(p.Z,{primary:"쪽지 보내기",primaryTypographyProps:{variant:"body2",fontSize:"0.8rem"}})]})]})]})}},30419:function(e,t,r){r.d(t,{U:function(){return a}});let a=(0,r(3011).U)(e=>({messageState:!1,messageContent:"",messageStyle:"success",messageTransition:"fade",showMessage:function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fade";return e({messageState:!0,messageContent:t,messageStyle:r,messageTransition:a})},hideMessage:()=>e({messageState:!1,messageContent:""})}))}}]);