"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9731],{47990:function(e,t,n){var a=n(83464);let r=a.Z.create({baseURL:"http://localhost:9999",withCredentials:!0});r.interceptors.request.use(e=>e,e=>Promise.reject(e)),r.interceptors.response.use(e=>e,async e=>{var t;let n=e.config;if("/api/auth/refresh"===n.url)return window.location.href="/login",Promise.reject(e);if((null===(t=e.response)||void 0===t?void 0:t.status)===401&&!n._retry){n._retry=!0;try{return await a.Z.post("".concat("http://localhost:9999","/api/auth/refresh"),{},{withCredentials:!0,headers:{"Content-Type":"application/json"}}),r(n)}catch(e){return window.location.href="/login",Promise.reject(e)}}return Promise.reject(e)}),t.Z=r},32574:function(e,t,n){n.d(t,{$f:function(){return r},Lc:function(){return o},tf:function(){return l}});var a=n(47990);let r=async e=>(await a.Z.post("".concat("http://localhost:9999","/api/blinds"),e,{withCredentials:!0})).data,o=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return(await a.Z.get("".concat("http://localhost:9999","/api/blinds"),{params:{page:e,limit:t},withCredentials:!0})).data},l=async e=>{await a.Z.delete("".concat("http://localhost:9999","/api/blinds/").concat(e),{withCredentials:!0})}},25769:function(e,t,n){n.d(t,{Z:function(){return p}});var a=n(57437),r=n(2265),o=n(16593),l=n(80605),d=n(32574),i=n(14534);let s=()=>{let{data:e}=(0,l.useSession)(),{setBlindUsers:t,isUserBlinded:n}=(0,i.L)(),{data:a}=(0,o.a)({queryKey:["blindUsers"],queryFn:()=>(0,d.Lc)(1,100),enabled:!!(null==e?void 0:e.user),staleTime:3e5});return(0,r.useEffect)(()=>{(null==a?void 0:a.items)&&t(a.items)},[null==a?void 0:a.items,t]),{isUserBlinded:n,blindUsers:(null==a?void 0:a.items)||[]}};var c=n(46387),u=n(14759),m=e=>{let{type:t,className:n}=e;return(0,a.jsxs)(c.Z,{variant:"body2",color:"text.disabled",sx:{display:"flex",alignItems:"center",gap:.5,fontStyle:"italic"},className:n,children:[(0,a.jsx)(u.Z,{fontSize:"small"}),"블라인드된 사용자입니다"]})},p=e=>{let{userId:t,type:n,children:r,className:o}=e,{isUserBlinded:l}=s();return l(t)?(0,a.jsx)(m,{type:n,className:o}):(0,a.jsx)(a.Fragment,{children:r})}},44304:function(e,t,n){var a=n(57437),r=n(2265),o=n(31691),l=n(2069),d=n(67116),i=n(46387),s=n(97404),c=n(91991),u=n(82279),m=n(36476),p=n(29827),h=n(16593),f=n(45345),x=n(21770),b=n(83464),g=n(80605),y=n(99376),k=n(71096),v=n.n(k),w=n(94623),Z=n(57507),j=n(30419),C=n(11471),S=n(25769),I=n(45662);t.Z=function(){var e,t,n,k,U,E;let{channelId:A,channelCreatorId:D}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:B}=(0,y.useParams)(),{showMessage:P}=(0,j.U)(e=>e),{data:T,status:W}=(0,g.useSession)(),F=(0,p.NL)(),R=(0,o.Z)(),z=(0,I.A)(),[_,L]=(0,r.useState)(""),[M,q]=(0,r.useState)(null),[N,Y]=(0,r.useState)([]),[K,H]=(0,r.useState)(1),O=C.bP,[Q,V]=(0,r.useState)(0);(0,r.useEffect)(()=>{let e=window.location.hash;e.startsWith("#comment-")&&$(parseInt(e.replace("#comment-","")))},[]);let $=async e=>{try{let{page:t}=(await b.Z.get("".concat("http://localhost:9999","/api/story/comment/").concat(B,"/page/").concat(e,"?limit=").concat(O))).data;t!==K?(H(t),setTimeout(()=>{G(e.toString())},1500)):setTimeout(()=>{G(e.toString())},1e3)}catch(t){console.error("댓글 페이지를 찾는 중 오류 발생:",t),setTimeout(()=>{G(e.toString())},1e3)}},G=e=>{let t=document.getElementById("comment-".concat(e));t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.style.backgroundColor="#fff3cd",t.style.border="2px solid #ffc107",setTimeout(()=>{t.style.backgroundColor="",t.style.border=""},3e3))},{data:J,isLoading:X,isError:ee,refetch:et}=(0,h.a)({queryKey:["story","detail","comments",B,K,O],queryFn:async()=>(await b.Z.post("".concat("http://localhost:9999","/api/story/detail/comment/").concat(B),{page:K,limit:O})).data,enabled:!!B&&"loading"!==W,placeholderData:f.Wk,refetchOnWindowFocus:!1});(0,r.useEffect)(()=>{if(J){Y(J.processedComments),V(J.totalCount);let e=window.location.hash;if(e.startsWith("#comment-")){let t=e.replace("#comment-","");setTimeout(()=>{G(t)},500)}}},[J]);let en=(0,x.D)({mutationFn:async e=>{let{storyId:t,content:n,parentId:a,authorId:r}=e;return(await b.Z.post("".concat("http://localhost:9999","/api/story/comment/").concat(t),{storyId:t,content:n,parentId:a,authorId:r},{withCredentials:!0})).data},onSuccess:async e=>{L("");let t=e.commentId,n=await et();if(n.data){let e=n.data.processedComments,a=Math.ceil(n.data.totalCount/O);e.some(e=>e.id===t)?F.invalidateQueries({queryKey:["story","detail","comments",B]}):H(a)}},onError:()=>{P("댓글 등록 오류가 발생했습니다.","error")}}),ea=(0,x.D)({mutationFn:async e=>{let{commentId:t,storyId:n}=e;return(await b.Z.put("".concat("http://localhost:9999","/api/story/comment/").concat(t),{storyId:n},{withCredentials:!0})).status},onSuccess:async e=>{if(200===e||201===e){let e=await et();if(e.data){let t=Math.ceil(e.data.totalCount/O)||1;K>t?H(t):F.invalidateQueries({queryKey:["story","detail","comments",B]})}}},onError:()=>{P("댓글 삭제 오류가 발생했습니다.","error")}}),er=(0,x.D)({mutationFn:async e=>{let{commentId:t,newContent:n}=e;return(await b.Z.patch("".concat("http://localhost:9999","/api/story/comment/").concat(t),{content:n},{withCredentials:!0})).status},onSuccess:e=>{(200===e||201===e)&&et()},onError:()=>{P("댓글 수정 오류가 발생했습니다.","error")}}),[eo,el]=(0,r.useState)(!1),[ed,ei]=(0,r.useState)(null),[es,ec]=(0,r.useState)({open:!1,commentId:null,content:""}),eu=e=>{ei(e),el(!0)},em=async()=>{es.commentId&&(ea.mutate({commentId:es.commentId,storyId:B}),ec({open:!1,commentId:null,content:""}),P("댓글이 삭제되었습니다.","success"))};return(0,a.jsxs)(l.Z,{sx:{width:"100%",border:"dark"===R.palette.mode?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",backgroundColor:"dark"===R.palette.mode?"rgba(26, 26, 46, 0.5)":"#ffffff",padding:2,mt:2,mb:2,borderRadius:3,boxShadow:"dark"===R.palette.mode?"0 4px 20px rgba(139, 92, 246, 0.1)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[X&&(0,a.jsx)(w.default,{}),ee&&(0,a.jsx)(u.Z,{severity:"error",children:"댓글을 불러오는 중 에러가 발생했습니다. 잠시 후 다시 시도해주세요."}),eo&&(0,a.jsx)(Z.Z,{open:eo,title:"댓글 삭제",description:"댓글을 삭제하시겠습니까? 삭제된 댓글은 복구할 수 없습니다.",onConfirm:()=>{null!==ed&&(ea.mutate({commentId:ed,storyId:B}),ei(null),el(!1))},onCancel:()=>{ei(null),el(!1)},confirmText:"삭제",cancelText:"취소"}),es.open&&(0,a.jsx)(Z.Z,{open:es.open,title:"\uD83D\uDEE1️ 관리자 권한으로 댓글 삭제",description:'다음 댓글을 삭제하시겠습니까?\n\n"'.concat(es.content,'"\n\n⚠️ 이 작업은 되돌릴 수 없습니다.'),onConfirm:em,onCancel:()=>{ec({open:!1,commentId:null,content:""})},confirmText:z.isLoading?"삭제 중...":"삭제",cancelText:"취소"}),(0,a.jsx)(i.Z,{variant:"h6",gutterBottom:!0,sx:{color:"dark"===R.palette.mode?"#a78bfa":"#1e293b",fontWeight:700,ml:1},children:"댓글"}),0===N.length&&!X&&(0,a.jsx)(l.Z,{sx:{textAlign:"center",padding:2},children:(0,a.jsxs)(i.Z,{variant:"body1",color:"textSecondary",children:["아직 댓글이 없습니다.",(0,a.jsx)("br",{}),"첫 번째 댓글을 작성해보세요!"]})}),(0,a.jsx)(e=>{let{comments:t,toggleReply:n,handleReplySubmit:u,replyTo:m,handleEditSubmit:p,handleAdminDeleteComment:h}=e,[f,x]=(0,r.useState)(""),[b,g]=(0,r.useState)(null),[y,k]=(0,r.useState)(""),w=(0,o.Z)();return(0,a.jsx)(l.Z,{children:t.map(e=>(0,a.jsxs)(l.Z,{id:"comment-".concat(e.id),sx:{display:"flex",flexDirection:"column",border:"dark"===w.palette.mode?"1px solid rgba(139, 92, 246, 0.3)":"1px solid #ddd",backgroundColor:"dark"===w.palette.mode?"rgba(26, 26, 46, 0.8)":"#ffffff",ml:"".concat(30*Math.min(e.depth||0,4),"px"),p:1,mb:1,transition:"all 0.3s ease",borderRadius:2,"&:hover":{border:"dark"===w.palette.mode?"1px solid rgba(139, 92, 246, 0.5)":"1px solid #bbb",boxShadow:"dark"===w.palette.mode?"0 4px 15px rgba(139, 92, 246, 0.1)":"0 2px 8px rgba(0, 0, 0, 0.1)"}},children:[(0,a.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",backgroundColor:"dark"===w.palette.mode?"rgba(139, 92, 246, 0.15)":"#e6e6ff",p:.5,borderRadius:1,mb:1},children:[(0,a.jsx)(d.Z,{src:"".concat("http://localhost:9999").concat(e.link),sx:{width:32,height:32,mr:1}}),(0,a.jsx)(i.Z,{variant:"body2",sx:{fontWeight:"bold",color:"dark"===w.palette.mode?"#a78bfa":"#4f46e5"},children:e.nickname}),(0,a.jsxs)(l.Z,{sx:{ml:"auto",display:"flex",flexDirection:"column",alignItems:"flex-end"},children:[(0,a.jsx)(i.Z,{variant:"caption",sx:{color:"dark"===w.palette.mode?"#94a3b8":"gray"},children:v()(e.updated_at).format("YYYY-MM-DD")}),(0,a.jsx)(i.Z,{variant:"caption",sx:{color:"dark"===w.palette.mode?"#94a3b8":"gray"},children:v()(e.updated_at).format("HH:mm:ss")})]})]}),b===e.id?(0,a.jsxs)(l.Z,{sx:{mt:1},children:[(0,a.jsx)(s.Z,{fullWidth:!0,value:y,onChange:e=>k(e.target.value),placeholder:"댓글 수정...",size:"small"}),(0,a.jsxs)(l.Z,{sx:{mt:1,display:"flex",gap:1},children:[(0,a.jsx)(c.Z,{size:"small",variant:"contained",onClick:()=>{p(e.id,y),g(null),k("")},children:"저장"}),(0,a.jsx)(c.Z,{size:"small",variant:"outlined",onClick:()=>{g(null),k("")},children:"취소"})]})]}):(0,a.jsxs)(i.Z,{variant:"body1",sx:{mt:1,color:"dark"===w.palette.mode?"#e2e8f0":"#1e293b",lineHeight:1.6},children:[e.parentNickname&&(0,a.jsxs)(l.Z,{component:"span",sx:{fontWeight:"bold",backgroundColor:"dark"===w.palette.mode?"rgba(6, 182, 212, 0.8)":"#FFEB3B",color:"dark"===w.palette.mode?"#0f0f23":"#1e293b",padding:"2px 8px",borderRadius:"6px",mr:1,fontSize:"0.875rem",boxShadow:"dark"===w.palette.mode?"0 0 8px rgba(6, 182, 212, 0.3)":"none"},children:["@",e.parentNickname]}),e.userId?(0,a.jsx)(S.Z,{userId:e.userId,type:"comment",children:e.content}):e.content]}),null!=e.nickname&&(0,a.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mt:1},children:[(null==T?void 0:T.user.id)&&(0,a.jsx)(c.Z,{size:"small",variant:"dark"===w.palette.mode?"contained":"outlined",onClick:()=>n(e.id),color:"primary",sx:{textTransform:"none",..."dark"===w.palette.mode&&{background:"linear-gradient(45deg, #3b82f6, #1e40af)","&:hover":{background:"linear-gradient(45deg, #2563eb, #1d4ed8)"}}},children:"답글"}),e.userId===(null==T?void 0:T.user.id)&&(0,a.jsx)(a.Fragment,{children:b!==e.id&&(0,a.jsx)(c.Z,{size:"small",variant:"dark"===w.palette.mode?"contained":"outlined",onClick:()=>{g(e.id),k(e.content)},color:"secondary",sx:{textTransform:"none",ml:1,..."dark"===w.palette.mode&&{background:"linear-gradient(45deg, #8b5cf6, #7c3aed)","&:hover":{background:"linear-gradient(45deg, #7c3aed, #6d28d9)"}}},children:"수정"})}),(e.userId===(null==T?void 0:T.user.id)||z.hasAdminPermission({channelId:A,creatorId:D}))&&(0,a.jsx)(c.Z,{size:"small",onClick:()=>{z.hasAdminPermission({channelId:A,creatorId:D})?h(e.id,e.content):eu(e.id)},variant:"dark"===w.palette.mode?"contained":"outlined",color:"error",sx:{textTransform:"none",ml:1,..."dark"===w.palette.mode&&{background:"linear-gradient(45deg, #ef4444, #dc2626)","&:hover":{background:"linear-gradient(45deg, #dc2626, #b91c1c)"}}},disabled:z.isLoading,children:z.hasAdminPermission({channelId:A,creatorId:D})?"관리자 삭제":"삭제"})]}),m===e.id&&(0,a.jsxs)(l.Z,{sx:{mt:1},children:[(0,a.jsx)(s.Z,{fullWidth:!0,value:f,onChange:e=>x(e.target.value),placeholder:"답글을 입력하세요...",size:"small"}),(0,a.jsx)(c.Z,{onClick:()=>{u(e.id,f),x("")},variant:"contained",size:"small",sx:{mt:1,..."dark"===w.palette.mode&&{background:"linear-gradient(45deg, #10b981, #059669)","&:hover":{background:"linear-gradient(45deg, #059669, #047857)",boxShadow:"0 4px 12px rgba(16, 185, 129, 0.3)",transform:"translateY(-1px)"}}},children:"댓글 작성"})]})]},e.id))})},{comments:N,toggleReply:e=>{q(t=>t===e?null:e)},handleReplySubmit:(e,t)=>{t.trim()&&(en.mutate({storyId:B,content:t,parentId:e,authorId:null==T?void 0:T.user.id}),q(null))},replyTo:M,handleEditSubmit:(e,t)=>{t.trim()&&er.mutate({commentId:e,newContent:t})},handleAdminDeleteComment:(e,t)=>{ec({open:!0,commentId:e,content:t})}}),(null==T?void 0:null===(e=T.user)||void 0===e?void 0:e.id)&&(0,a.jsxs)(l.Z,{sx:{width:"100%",border:"dark"===R.palette.mode?"1px solid rgba(139, 92, 246, 0.4)":"1px solid #ddd",backgroundColor:"dark"===R.palette.mode?"rgba(26, 26, 46, 0.8)":"#ffffff",borderRadius:"8px",padding:2,display:"flex",flexDirection:"column",boxShadow:"dark"===R.palette.mode?"0 4px 15px rgba(139, 92, 246, 0.15)":"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[(0,a.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",marginBottom:2},children:[(null==T?void 0:null===(t=T.user)||void 0===t?void 0:t.image)&&(0,a.jsx)(d.Z,{src:"".concat("http://localhost:9999").concat(null==T?void 0:null===(n=T.user)||void 0===n?void 0:n.image),sx:{width:40,height:40,marginRight:1}}),(0,a.jsx)(i.Z,{variant:"body1",sx:{fontWeight:"bold",color:"dark"===R.palette.mode?"#a78bfa":"#4f46e5"},children:null==T?void 0:null===(k=T.user)||void 0===k?void 0:k.nickname})]}),(0,a.jsx)(s.Z,{fullWidth:!0,multiline:!0,minRows:2,maxRows:4,placeholder:"나쁜말 쓰면 큰일남",value:_,onChange:e=>L(e.target.value),sx:{marginBottom:1}}),(0,a.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,a.jsx)(i.Z,{variant:"body2",sx:{color:"dark"===R.palette.mode?"#94a3b8":"gray",marginBottom:2},children:"내 마음에 안들면 댓글 삭제"}),(0,a.jsx)(c.Z,{onClick:()=>{_.trim()&&(en.mutate({storyId:B,content:_,parentId:null,authorId:null==T?void 0:T.user.id}),L(""))},variant:"contained",sx:{background:"dark"===R.palette.mode?"linear-gradient(45deg, #8b5cf6 30%, #06b6d4 90%)":"#007BFF",color:"white",padding:"8px 16px",borderRadius:"8px",border:"none",cursor:"pointer",fontWeight:600,"&:hover":{background:"dark"===R.palette.mode?"linear-gradient(45deg, #7c3aed 30%, #0891b2 90%)":"#0056b3",boxShadow:"dark"===R.palette.mode?"0 6px 20px rgba(139, 92, 246, 0.4)":"0 4px 12px rgba(0, 123, 255, 0.3)",transform:"translateY(-1px)"}},children:"댓글 작성"})]})]}),(null==T?void 0:null===(U=T.user)||void 0===U?void 0:U.id)&&!(null==T?void 0:null===(E=T.user)||void 0===E?void 0:E.nickname)&&(0,a.jsxs)(l.Z,{sx:{mt:2,textAlign:"center"},children:[(0,a.jsx)(i.Z,{variant:"body2",color:"error",children:"댓글 작성을 위한, 로그인 정보를 가져오는 중 문제가 발생했습니다."}),(0,a.jsx)(c.Z,{variant:"dark"===R.palette.mode?"contained":"outlined",color:"primary",onClick:()=>et(),sx:{mt:1,..."dark"===R.palette.mode&&{background:"linear-gradient(45deg, #3b82f6, #1e40af)","&:hover":{background:"linear-gradient(45deg, #2563eb, #1d4ed8)",boxShadow:"0 4px 12px rgba(59, 130, 246, 0.3)",transform:"translateY(-1px)"}}},children:"다시 시도"})]}),(0,a.jsx)(l.Z,{sx:{display:"flex",justifyContent:"center",flex:1,mt:2},children:(0,a.jsx)(m.Z,{count:Math.ceil(Q/O),page:K,onChange:(e,t)=>{H(t)},sx:{"& .MuiPaginationItem-root":{color:"dark"===R.palette.mode?"#e2e8f0":"#374151",borderColor:"dark"===R.palette.mode?"rgba(139, 92, 246, 0.3)":"#d1d5db",backgroundColor:"dark"===R.palette.mode?"rgba(26, 26, 46, 0.6)":"#f9fafb",fontWeight:600,"&:hover":{backgroundColor:"dark"===R.palette.mode?"rgba(139, 92, 246, 0.2)":"#e5e7eb",borderColor:"dark"===R.palette.mode?"rgba(139, 92, 246, 0.5)":"#9ca3af"},"&.Mui-selected":{backgroundColor:"dark"===R.palette.mode?"rgba(139, 92, 246, 0.8)":"#3b82f6",color:"#ffffff",borderColor:"dark"===R.palette.mode?"rgba(139, 92, 246, 1)":"#3b82f6",fontWeight:700,"&:hover":{backgroundColor:"dark"===R.palette.mode?"rgba(139, 92, 246, 0.9)":"#2563eb"}},"&.MuiPaginationItem-previousNext":{color:"dark"===R.palette.mode?"#a78bfa":"#4f46e5",fontWeight:600}}}})})]})}},11471:function(e,t,n){n.d(t,{D$:function(){return a},Tq:function(){return r},VI:function(){return d},bP:function(){return l},jL:function(){return o},oi:function(){return i}});let a=6,r=6,o=1,l=6,d=6,i=5},45662:function(e,t,n){n.d(t,{A:function(){return i}});var a=n(2265),r=n(80605),o=n(47990);let l={forceDeleteStory:async e=>(await o.Z.delete("/api/story/admin/force-delete/".concat(e))).data,channelAdminDeleteStory:async e=>(await o.Z.delete("/api/story/admin/channel-delete/".concat(e))).data,batchDeleteStories:async e=>(await o.Z.delete("/api/story/admin/batch-delete",{data:{storyIds:e}})).data};var d={utils:{deleteByPermission:async(e,t,n)=>{if(n.isSuperAdmin){if("story"===e)return l.forceDeleteStory(t);throw Error("댓글 삭제는 일반 삭제 함수를 사용하세요.")}if(n.isChannelAdmin){if("story"===e)return l.channelAdminDeleteStory(t);throw Error("댓글 삭제는 일반 삭제 함수를 사용하세요.")}throw Error("관리자 권한이 없습니다.")},batchDeleteByPermission:async(e,t,n)=>{if(!n.isSuperAdmin)throw Error("일괄 삭제는 총 관리자만 가능합니다.");if("story"===e)return l.batchDeleteStories(t);throw Error("댓글 일괄 삭제는 지원되지 않습니다.")}}};let i=()=>{let{data:e}=(0,r.useSession)(),[t,n]=(0,a.useState)(!1),o=(null==e?void 0:e.user)||null,l=()=>(null==o?void 0:o.is_super_admin)===!0,i=(0,a.useCallback)(e=>!!o&&"number"!=typeof e&&((null==e?void 0:e.creatorId)?o.id===e.creatorId:((null==e?void 0:e.channelId)||null!=e&&e.channelSlug,!1)),[o]),s=(0,a.useCallback)(e=>l()||i(e),[i]),c=e=>{let t=l(),n=i(e);return{isSuperAdmin:t,isChannelAdmin:n,hasAnyAdminPermission:t||n}},u=async(e,t,a,r)=>{try{n(!0);let r=c(t);if(!r.hasAnyAdminPermission)throw Error("관리자 권한이 없습니다.");await d.utils.deleteByPermission("story",e,r),null==a||a()}catch(t){let e=t instanceof Error?t:Error("알 수 없는 오류가 발생했습니다.");null==r||r(e)}finally{n(!1)}},m=async(e,t,a,r)=>{try{n(!0);let r=c();if(!r.isSuperAdmin)throw Error("일괄 삭제는 총 관리자만 가능합니다.");let o=await d.utils.batchDeleteByPermission(e,t,r);null==a||a(o.deletedCount)}catch(t){let e=t instanceof Error?t:Error("알 수 없는 오류가 발생했습니다.");null==r||r(e)}finally{n(!1)}};return{isSuperAdmin:l(),isChannelAdmin:i,hasAdminPermission:s,getAdminPermission:c,currentUser:o,getAdminBadgeText:e=>l()?"총관리자":i(e)?"채널관리자":"",getAdminBadgeColor:e=>l()?"error":i(e)?"warning":"default",deleteStory:u,batchDelete:m,isLoading:t}}},14534:function(e,t,n){n.d(t,{L:function(){return a}});let a=(0,n(3011).U)((e,t)=>({blindUsers:[],blindedUserIds:new Set,setBlindUsers:t=>e({blindUsers:t,blindedUserIds:new Set(t.map(e=>e.targetUserId))}),addBlindUser:t=>e(e=>{let n=[...e.blindUsers,t],a=new Set(e.blindedUserIds);return a.add(t.targetUserId),{blindUsers:n,blindedUserIds:a}}),removeBlindUser:t=>e(e=>{let n=e.blindUsers.find(e=>e.id===t),a=e.blindUsers.filter(e=>e.id!==t),r=new Set(e.blindedUserIds);return n&&r.delete(n.targetUserId),{blindUsers:a,blindedUserIds:r}}),isUserBlinded:e=>t().blindedUserIds.has(e),clearBlindUsers:()=>e({blindUsers:[],blindedUserIds:new Set})}))},35574:function(e,t,n){n.d(t,{x:function(){return a}});let a=(0,n(3011).U)(e=>({isCommentOpen:!1,openCloseComments:t=>e({isCommentOpen:t})}))}}]);