"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7799],{87761:function(e,t,i){i.d(t,{Z:function(){return H}});var n=i(57437),l=i(2265),r=i(5015),o=i(54603),s=i(54816),a=i(65318),c=i(24475),d=i(13694),x=i(71190),g=i(78234),f=i(77937),u=i(31691),p=i(53410),m=i(46387),b=i(2069),h=i(89800),j=i(24902),Z=i(59832),k=i(8350),v=i(37445),C=i(40217),z=i(55849),A=i(39228),y=i(46510),S=i(77444),L=i(87472),w=i(58077),R=i(24008),T=i(92522),U=i(53284),B=i(66484),E=i(51861),I=i(72076),M=i(83497);function H(e){let{value:t,onChange:i,placeholder:H="내용을 입력하세요...",height:O="300px",disabled:P=!1,onFilesChange:W}=e,[q,D]=(0,l.useState)([]),F="dark"===(0,u.Z)().palette.mode,_=(0,r.jE)({extensions:[o.Z,f.Z.configure({}),s.ZP.configure({openOnClick:!1,HTMLAttributes:{style:"color: #3b82f6; text-decoration: underline;"}}),a.Z.configure({types:["heading","paragraph"]}),c.Z,d.Z,x.ZP.configure({multicolor:!0}),g.Z],content:t,immediatelyRender:!1,onUpdate:e=>{let{editor:t}=e;i(t.getHTML())},editable:!P,editorProps:{attributes:{style:"min-height: ".concat(O,"; padding: 16px; outline: none;"),class:"tiptap-editor"}}});(0,l.useEffect)(()=>{_&&t!==_.getHTML()&&_.commands.setContent(t)},[t,_]);let N=(0,l.useCallback)(e=>{if(!_)return;let{state:t}=_,{selection:i}=t,{from:n}=i,l=t.doc.nodeAt(n);if(l&&"image"===l.type.name){let t={...l.attrs},i=t.style||"";switch(i=(i=(i=i.replace(/margin[^;]*;?/g,"")).replace(/display[^;]*;?/g,"")).replace(/text-align[^;]*;?/g,""),e){case"left":i+=" margin: 8px auto 8px 0; display: block;";break;case"center":i+=" margin: 8px auto; display: block;";break;case"right":i+=" margin: 8px 0 8px auto; display: block;"}(i=i.replace(/;\s*;/g,";").trim()).endsWith(";")||(i+=";"),t.style=i,_.chain().setNodeSelection(n).updateAttributes("image",t).run()}},[_]);(0,l.useEffect)(()=>{if(W){let e=setTimeout(()=>{W(q)},0);return()=>clearTimeout(e)}},[q,W]);let G=(0,l.useCallback)(()=>{let e=document.createElement("input");e.type="file",e.accept="image/*",e.multiple=!0,e.onchange=e=>{let t=Array.from(e.target.files||[]);if(!t.length)return;let i=t.filter(e=>e.size>104857600);if(i.length){alert("100MB 초과 파일:\n".concat(i.map(e=>e.name).join("\n")));return}let n=t.map(e=>{let t=URL.createObjectURL(e);return setTimeout(()=>URL.revokeObjectURL(t),3e5),{type:"image",attrs:{src:t,alt:e.name,title:e.name}}});null==_||_.chain().focus().insertContent(n).run(),D(e=>[...e,...t])},e.click()},[_]),J=(0,l.useCallback)(()=>{let e=document.createElement("input");e.type="file",e.accept="video/*",e.multiple=!1,e.onchange=e=>{var t;let i=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!i)return;if(i.size>1073741824){alert("".concat(i.name,"은(는) 1GB를 초과합니다."));return}let n=URL.createObjectURL(i);setTimeout(()=>URL.revokeObjectURL(n),3e5);let l='\n        <div style="margin:16px 0; text-align:center;">\n          <video controls style="max-width:100%; height:auto; border-radius:2px; box-shadow:0 4px 12px rgba(0,0,0,0.15);">\n            <source src="'.concat(n,'" type="').concat(i.type,'" />\n            동영상을 재생할 수 없습니다.\n          </video>\n          <p style="margin:8px 0 0; font-size:14px; color:#e94057; font-weight:500;">\n            \uD83C\uDFAC ').concat(i.name," (").concat((i.size/1024/1024).toFixed(2),"MB)\n          </p>\n        </div>\n      ");null==_||_.chain().focus().insertContent(l).run(),D(e=>[...e,i])},e.click()},[_]),K=(0,l.useCallback)(()=>{let e=window.prompt("링크 URL을 입력하세요:");e&&(null==_||_.chain().focus().setLink({href:e}).run())},[_]);return _?(0,n.jsx)(b.Z,{sx:{position:"relative",mb:2},children:(0,n.jsxs)(p.Z,{elevation:0,sx:{border:"1px solid ".concat(F?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"),borderRadius:"12px",overflow:"hidden",background:F?"rgba(30, 32, 38, 0.8)":"#ffffff",transition:"all 0.3s ease","&:hover":{borderColor:F?"rgba(139, 92, 246, 0.3)":"rgba(139, 92, 246, 0.5)",boxShadow:F?"0 4px 20px rgba(139, 92, 246, 0.15)":"0 4px 20px rgba(139, 92, 246, 0.1)"},"&:focus-within":{borderColor:F?"#8b5cf6":"#6366f1",boxShadow:F?"0 0 0 3px rgba(139, 92, 246, 0.2)":"0 0 0 3px rgba(99, 102, 241, 0.2)"}},children:[(0,n.jsxs)(b.Z,{sx:{background:F?"rgba(20, 22, 28, 0.9)":"#f8fafc",borderBottom:"1px solid ".concat(F?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)"),p:1,display:"flex",flexWrap:"wrap",gap:.5},children:[(0,n.jsxs)(h.Z,{size:"small",children:[(0,n.jsx)(j.Z,{title:_.can().undo()?"실행 취소":"",children:(0,n.jsx)("span",{children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().undo().run(),disabled:!_.can().undo(),sx:{color:F?"#e2e8f0":"#475569"},children:(0,n.jsx)(v.Z,{fontSize:"small"})})})}),(0,n.jsx)(j.Z,{title:_.can().redo()?"다시 실행":"",children:(0,n.jsx)("span",{children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().redo().run(),disabled:!_.can().redo(),sx:{color:F?"#e2e8f0":"#475569"},children:(0,n.jsx)(C.Z,{fontSize:"small"})})})})]}),(0,n.jsx)(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,n.jsxs)(h.Z,{size:"small",children:[(0,n.jsx)(j.Z,{title:"굵게",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().toggleBold().run(),sx:{color:_.isActive("bold")?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive("bold")?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(z.Z,{fontSize:"small"})})}),(0,n.jsx)(j.Z,{title:"기울임",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().toggleItalic().run(),sx:{color:_.isActive("italic")?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive("italic")?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(A.Z,{fontSize:"small"})})}),(0,n.jsx)(j.Z,{title:"밑줄",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().toggleUnderline().run(),sx:{color:_.isActive("underline")?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive("underline")?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(y.Z,{fontSize:"small"})})})]}),(0,n.jsx)(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,n.jsxs)(h.Z,{size:"small",children:[(0,n.jsx)(j.Z,{title:"왼쪽 정렬",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>{let{state:e}=_,{selection:t}=e,{from:i}=t,n=e.doc.nodeAt(i);n&&"image"===n.type.name?N("left"):_.chain().focus().setTextAlign("left").run()},sx:{color:_.isActive({textAlign:"left"})?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive({textAlign:"left"})?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(S.Z,{fontSize:"small"})})}),(0,n.jsx)(j.Z,{title:"가운데 정렬",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>{let{state:e}=_,{selection:t}=e,{from:i}=t,n=e.doc.nodeAt(i);n&&"image"===n.type.name?N("center"):_.chain().focus().setTextAlign("center").run()},sx:{color:_.isActive({textAlign:"center"})?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive({textAlign:"center"})?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(L.Z,{fontSize:"small"})})}),(0,n.jsx)(j.Z,{title:"오른쪽 정렬",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>{let{state:e}=_,{selection:t}=e,{from:i}=t,n=e.doc.nodeAt(i);n&&"image"===n.type.name?N("right"):_.chain().focus().setTextAlign("right").run()},sx:{color:_.isActive({textAlign:"right"})?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive({textAlign:"right"})?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(w.Z,{fontSize:"small"})})})]}),(0,n.jsx)(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,n.jsxs)(h.Z,{size:"small",children:[(0,n.jsx)(j.Z,{title:"불릿 리스트",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().toggleBulletList().run(),sx:{color:_.isActive("bulletList")?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive("bulletList")?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(R.Z,{fontSize:"small"})})}),(0,n.jsx)(j.Z,{title:"번호 리스트",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().toggleOrderedList().run(),sx:{color:_.isActive("orderedList")?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive("orderedList")?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(T.Z,{fontSize:"small"})})})]}),(0,n.jsx)(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,n.jsxs)(h.Z,{size:"small",children:[(0,n.jsx)(j.Z,{title:"인용문",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().toggleBlockquote().run(),sx:{color:_.isActive("blockquote")?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive("blockquote")?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(U.Z,{fontSize:"small"})})}),(0,n.jsx)(j.Z,{title:"코드 블록",children:(0,n.jsx)(Z.Z,{size:"small",onClick:()=>_.chain().focus().toggleCodeBlock().run(),sx:{color:_.isActive("codeBlock")?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive("codeBlock")?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(B.Z,{fontSize:"small"})})})]}),(0,n.jsx)(k.Z,{orientation:"vertical",flexItem:!0,sx:{mx:.5}}),(0,n.jsxs)(h.Z,{size:"small",children:[(0,n.jsx)(j.Z,{title:"이미지 업로드",children:(0,n.jsx)(Z.Z,{size:"small",onClick:G,sx:{color:F?"#e2e8f0":"#475569"},children:(0,n.jsx)(E.Z,{fontSize:"small"})})}),(0,n.jsx)(j.Z,{title:"동영상 업로드",children:(0,n.jsx)(Z.Z,{size:"small",onClick:J,sx:{color:F?"#e2e8f0":"#475569"},children:(0,n.jsx)(I.Z,{fontSize:"small"})})}),(0,n.jsx)(j.Z,{title:"링크 추가",children:(0,n.jsx)(Z.Z,{size:"small",onClick:K,sx:{color:_.isActive("link")?"#e94057":F?"#e2e8f0":"#475569",backgroundColor:_.isActive("link")?"rgba(233, 64, 87, 0.1)":"transparent"},children:(0,n.jsx)(M.Z,{fontSize:"small"})})})]})]}),(0,n.jsx)(b.Z,{sx:{minHeight:O,"& .tiptap-editor":{color:F?"#e2e8f0":"#1e293b",fontSize:"15px",lineHeight:1.6,fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',"&:focus":{outline:"none"},"& p":{margin:"0 0 8px 0"},"& h1, & h2, & h3":{margin:"16px 0 8px 0",fontWeight:600},"& h1":{fontSize:"1.875rem",background:"linear-gradient(135deg, #8a2387, #e94057, #f27121)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text"},"& h2":{fontSize:"1.5rem",color:F?"#a78bfa":"#8b5cf6"},"& h3":{fontSize:"1.25rem",color:F?"#fbbf24":"#f59e0b"},"& blockquote":{borderLeft:"4px solid ".concat(F?"#8b5cf6":"#6366f1"),background:F?"rgba(139, 92, 246, 0.1)":"rgba(99, 102, 241, 0.05)",padding:"12px 16px",margin:"16px 0",borderRadius:"0 8px 8px 0"},"& pre":{background:F?"#1e293b":"#f1f5f9",color:F?"#e2e8f0":"#334155",borderRadius:"8px",padding:"16px",margin:"16px 0",border:"1px solid ".concat(F?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)"),overflow:"auto"},"& code":{background:F?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.08)",padding:"2px 6px",borderRadius:"4px",fontSize:"0.9em"},"& ul, & ol":{paddingLeft:"24px",margin:"12px 0",listStylePosition:"outside"},"& ol":{listStyleType:"decimal"},"& ul":{listStyleType:"disc"},"& li":{margin:"4px 0"},"& a":{color:F?"#60a5fa":"#3b82f6",textDecoration:"none","&:hover":{textDecoration:"underline"}},"& img.editor-image":{transition:"all 0.2s ease"}},"& .tiptap-editor.ProseMirror-focused":{outline:"none"},"& .tiptap-editor p.is-editor-empty:first-of-type::before":{content:'"'.concat(H,'"'),float:"left",color:"#94a3b8",pointerEvents:"none",height:0}},children:(0,n.jsx)(r.kg,{editor:_})})]})}):(0,n.jsx)(p.Z,{elevation:0,sx:{border:"1px solid ".concat(F?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.12)"),borderRadius:"12px",overflow:"hidden",background:F?"rgba(30, 32, 38, 0.8)":"#ffffff",height:O,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)(m.Z,{color:"text.secondary",children:"에디터 로딩 중..."})})}},30419:function(e,t,i){i.d(t,{U:function(){return n}});let n=(0,i(3011).U)(e=>({messageState:!1,messageContent:"",messageStyle:"success",messageTransition:"fade",showMessage:function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"success",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"fade";return e({messageState:!0,messageContent:t,messageStyle:i,messageTransition:n})},hideMessage:()=>e({messageState:!1,messageContent:""})}))}}]);