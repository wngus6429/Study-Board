"use strict";exports.id=586,exports.ids=[586],exports.modules={35756:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(70531),i=r(97247);let s=(0,a.Z)((0,i.jsx)("path",{d:"M17.77 3.77 16 2 6 12l10 10 1.77-1.77L9.54 12z"}),"ArrowBackIosNew")},95995:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(70531),i=r(97247);let s=(0,a.Z)((0,i.jsx)("path",{d:"M6.23 20.23 8 22l10-10L8 2 6.23 3.77 14.46 12z"}),"ArrowForwardIos")},797:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(70531),i=r(97247);let s=(0,a.Z)((0,i.jsx)("path",{d:"m21.41 11.58-9-9C12.05 2.22 11.55 2 11 2H4c-1.1 0-2 .9-2 2v7c0 .55.22 1.05.59 1.42l9 9c.36.36.86.58 1.41.58s1.05-.22 1.41-.59l7-7c.37-.36.59-.86.59-1.41s-.23-1.06-.59-1.42M5.5 7C4.67 7 4 6.33 4 5.5S4.67 4 5.5 4 7 4.67 7 5.5 6.33 7 5.5 7"}),"LocalOffer")},68923:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(70531),i=r(97247);let s=(0,a.Z)((0,i.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2m0 4-8 5-8-5V6l8 5 8-5z"}),"Mail")},2941:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(70531),i=r(97247);let s=(0,a.Z)((0,i.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")},76058:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(70531),i=r(97247);let s=(0,a.Z)((0,i.jsx)("path",{d:"M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"}),"Send")},59167:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(70531),i=r(97247);let s=(0,a.Z)([(0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14"},"0"),(0,i.jsx)("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2z"},"1")],"ZoomIn")},67158:(e,t,r)=>{r.d(t,{Z:()=>s});var a=r(70531),i=r(97247);let s=(0,a.Z)((0,i.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14M7 9h5v1H7z"}),"ZoomOut")},44778:(e,t,r)=>{r.d(t,{Z:()=>g});var a=r(28964),i=r(61929),s=r(63574),o=r(9380),n=r(59537),l=r(17269),d=r(1358);function c(e){return(0,d.ZP)("MuiCardMedia",e)}(0,l.Z)("MuiCardMedia",["root","media","img"]);var p=r(97247);let h=e=>{let{classes:t,isMediaComponent:r,isImageComponent:a}=e;return(0,s.Z)({root:["root",r&&"media",a&&"img"]},c,t)},x=(0,o.ZP)("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:r}=e,{isMediaComponent:a,isImageComponent:i}=r;return[t.root,a&&t.media,i&&t.img]}})({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center",variants:[{props:{isMediaComponent:!0},style:{width:"100%"}},{props:{isImageComponent:!0},style:{objectFit:"cover"}}]}),u=["video","audio","picture","iframe","img"],m=["picture","img"],g=a.forwardRef(function(e,t){let r=(0,n.i)({props:e,name:"MuiCardMedia"}),{children:a,className:s,component:o="div",image:l,src:d,style:c,...g}=r,b=u.includes(o),Z=!b&&l?{backgroundImage:`url("${l}")`,...c}:c,v={...r,component:o,isMediaComponent:b,isImageComponent:m.includes(o)},j=h(v);return(0,p.jsx)(x,{className:(0,i.Z)(j.root,s),as:o,role:!b&&l?"img":void 0,ref:t,style:Z,ownerState:v,src:b?l||d:void 0,...g,children:a})})},35588:(e,t,r)=>{r.d(t,{$Z:()=>d,O4:()=>s,RC:()=>n,bG:()=>o,bX:()=>i,o6:()=>l});var a=r(10863);let i=async(e=1,t=10)=>{try{return(await a.Z.get("http://localhost:9999/api/messages/received",{params:{page:e,limit:t},withCredentials:!0})).data}catch(e){return console.error("받은 쪽지 목록 조회 실패:",e),{messages:[],total:0,page:1,limit:10}}},s=async(e=1,t=10)=>{try{return(await a.Z.get("http://localhost:9999/api/messages/sent",{params:{page:e,limit:t},withCredentials:!0})).data}catch(e){return console.error("보낸 쪽지 목록 조회 실패:",e),{messages:[],total:0,page:1,limit:10}}},o=async e=>{try{return(await a.Z.post("http://localhost:9999/api/messages/send",e,{withCredentials:!0})).data}catch(e){throw console.error("쪽지 보내기 실패:",e),e}},n=async e=>(await a.Z.patch(`http://localhost:9999/api/messages/${e}/read`,{},{withCredentials:!0})).data,l=async(e,t)=>{try{return(await a.Z.patch(`http://localhost:9999/api/messages/${e}`,t,{withCredentials:!0})).data}catch(e){throw console.error("쪽지 수정 실패:",e),e}},d=async e=>(await a.Z.delete(`http://localhost:9999/api/messages/${e}`,{withCredentials:!0})).data},21660:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(97247),i=r(28964),s=r.n(i),o=r(44778);let n=s().memo(({img:e,isLastOddImage:t,onClick:r,customWidth:s,customMargin:n})=>{let[l,d]=(0,i.useState)(null),c=(0,i.useRef)(Date.now()),[p,h]=(0,i.useState)(!1),x=(0,i.useMemo)(()=>e.link.toLowerCase().endsWith(".gif")?`http://localhost:9999${e.link}`:`http://localhost:9999${e.link}?timestamp=${c.current}`,[e.link]),u=!!l&&l.width/l.height>=1.3||t;return a.jsx(o.Z,{component:"img",image:x,alt:`이미지 ${e.image_name}`,onLoad:e=>{let{naturalWidth:t,naturalHeight:r}=e.currentTarget;d({width:t,height:r}),h(!0)},onClick:()=>r?.(e),sx:(()=>{let e=`
        0 8px 32px rgba(0, 0, 0, 0.3),
        0 4px 16px rgba(139, 92, 246, 0.4),
        0 2px 8px rgba(59, 130, 246, 0.3),
        0 1px 4px rgba(16, 185, 129, 0.2),
        inset 0 1px 2px rgba(255, 255, 255, 0.1),
        inset 0 -1px 2px rgba(0, 0, 0, 0.2)
      `,t=`
        0 16px 48px rgba(0, 0, 0, 0.4),
        0 8px 24px rgba(139, 92, 246, 0.6),
        0 4px 16px rgba(59, 130, 246, 0.5),
        0 2px 8px rgba(16, 185, 129, 0.4),
        0 1px 4px rgba(245, 158, 11, 0.3),
        0 0 20px rgba(139, 92, 246, 0.3),
        0 0 40px rgba(59, 130, 246, 0.2),
        inset 0 2px 4px rgba(255, 255, 255, 0.15),
        inset 0 -2px 4px rgba(0, 0, 0, 0.3)
      `;return s?{width:s,maxWidth:"100%",margin:n||"0 auto",borderRadius:2,objectFit:"contain",boxShadow:e,opacity:p?1:0,border:"1px solid rgba(139, 92, 246, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-12px) scale(1.02)",boxShadow:t,border:"1px solid rgba(139, 92, 246, 0.5)",cursor:r?"pointer":"default",filter:"brightness(1.05) contrast(1.1) saturate(1.1)"}}:{flexBasis:u?"100%":"calc(50% - 8px)",maxWidth:u?"100%":"calc(50% - 8px)",margin:u?"0 auto":void 0,borderRadius:2,objectFit:"contain",boxShadow:e,opacity:p?1:0,border:"1px solid rgba(139, 92, 246, 0.2)",transition:"all 0.4s cubic-bezier(0.4, 0, 0.2, 1)","&:hover":{transform:"translateY(-12px) scale(1.02)",boxShadow:t,border:"1px solid rgba(139, 92, 246, 0.5)",cursor:r?"pointer":"default",filter:"brightness(1.05) contrast(1.1) saturate(1.1)"}}})()})})},66405:(e,t,r)=>{r.d(t,{Z:()=>n});var a=r(97247),i=r(24222),s=r(94742),o=r(42658);function n(){return a.jsx(i.Z,{display:"flex",justifyContent:"center",children:a.jsx(s.Z,{sx:{padding:3,boxShadow:3},children:a.jsx(o.Z,{variant:"h6",color:"error",gutterBottom:!0,children:"오류가 발생했습니다. 다시 시도해주세요."})})})}r(28964)},62289:(e,t,r)=>{r.d(t,{Z:()=>j});var a=r(97247),i=r(28964),s=r(19065),o=r(77528),n=r(42658),l=r(83268),d=r(66122),c=r(24222),p=r(24091),h=r(73275),x=r(74247),u=r(53187),m=r(75087),g=r(76058),b=r(88111),Z=r(35588),v=r(64560);let j=({open:e,onClose:t,receiverNickname:r})=>{let{showMessage:j}=(0,v.U)(),[f,y]=(0,i.useState)(""),[w,C]=(0,i.useState)(""),[S,k]=(0,i.useState)("");(0,i.useEffect)(()=>{r&&r.trim()&&k(r)},[r]),(0,i.useEffect)(()=>{},[r,S]);let z=(0,b.D)({mutationFn:e=>(0,Z.bG)(e),onSuccess:()=>{j("쪽지가 성공적으로 전송되었습니다!","success"),M()},onError:e=>{j(e.response?.data?.message||"쪽지 전송에 실패했습니다.","error")}}),M=()=>{t()};return(0,i.useEffect)(()=>{e||(y(""),C(""),k(""))},[e]),(0,a.jsxs)(s.Z,{open:e,onClose:M,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:3,minHeight:400}},children:[(0,a.jsxs)(o.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",pb:1},children:[a.jsx(n.Z,{variant:"h6",component:"span",children:"쪽지 보내기"}),a.jsx(l.Z,{onClick:M,size:"small",children:a.jsx(m.Z,{})})]}),a.jsx(d.Z,{sx:{py:2},children:(0,a.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:2},children:[a.jsx(p.Z,{label:"받는 사람",value:S,disabled:!0,fullWidth:!0,variant:"outlined",size:"small"}),a.jsx(p.Z,{label:"제목",value:f,onChange:e=>y(e.target.value),fullWidth:!0,variant:"outlined",size:"small",placeholder:"제목을 입력하세요"}),a.jsx(p.Z,{label:"내용",value:w,onChange:e=>C(e.target.value),fullWidth:!0,multiline:!0,rows:6,variant:"outlined",placeholder:"내용을 입력하세요"})]})}),(0,a.jsxs)(h.Z,{sx:{px:3,pb:2},children:[a.jsx(x.Z,{onClick:M,variant:"outlined",children:"취소"}),a.jsx(x.Z,{onClick:()=>{if(!f.trim()){j("제목을 입력해주세요.","warning");return}if(!w.trim()){j("내용을 입력해주세요.","warning");return}z.mutate({receiverNickname:S.trim(),title:f.trim(),content:w.trim()})},variant:"contained",startIcon:z.isPending?a.jsx(u.Z,{size:16}):a.jsx(g.Z,{}),disabled:z.isPending,sx:{background:"linear-gradient(135deg, #8b5cf6, #06b6d4)","&:hover":{background:"linear-gradient(135deg, #7c3aed, #0891b2)"}},children:z.isPending?"전송 중...":"쪽지 보내기"})]})]})}},32219:(e,t,r)=>{r.d(t,{Z:()=>m});var a=r(97247);r(28964);var i=r(4900),s=r(24222),o=r(42658),n=r(40998),l=r(78708),d=r(82891),c=r(52833),p=r(11611),h=r(2941),x=r(68923),u=r(34178);let m=({open:e,anchorEl:t,onClose:r,nickname:m,onSendMessage:g})=>{let b=(0,u.useRouter)();return(0,a.jsxs)(i.ZP,{open:e,anchorEl:t,onClose:r,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},PaperProps:{sx:{borderRadius:1,minWidth:120,maxWidth:150,boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}},children:[a.jsx(s.Z,{sx:{px:1.5,py:1},children:a.jsx(o.Z,{variant:"caption",color:"text.secondary",sx:{fontWeight:600},children:m})}),a.jsx(n.Z,{}),(0,a.jsxs)(l.Z,{sx:{py:.5},children:[(0,a.jsxs)(d.ZP,{onClick:()=>{b.push(`/profile/${encodeURIComponent(m)}`),r()},sx:{"&:hover":{backgroundColor:"action.hover"},cursor:"pointer",py:.5,px:1,minHeight:32},children:[a.jsx(c.Z,{sx:{minWidth:28},children:a.jsx(h.Z,{fontSize:"small"})}),a.jsx(p.Z,{primary:"프로필 보기",primaryTypographyProps:{variant:"body2",fontSize:"0.8rem"}})]}),(0,a.jsxs)(d.ZP,{onClick:()=>{g(),r()},sx:{"&:hover":{backgroundColor:"action.hover"},cursor:"pointer",py:.5,px:1,minHeight:32},children:[a.jsx(c.Z,{sx:{minWidth:28},children:a.jsx(x.Z,{fontSize:"small"})}),a.jsx(p.Z,{primary:"쪽지 보내기",primaryTypographyProps:{variant:"body2",fontSize:"0.8rem"}})]})]})]})}}};